{"version":3,"file":"ace.js","sources":["../../application/js/src/util.js","../../application/js/src/general.js","../../application/js/src/scrollbar.js","../../application/js/src/sidebar.js","../../application/js/src/aside.js","../../application/js/src/toaster.js","../../application/js/src/widget.js","../../application/js/src/fileinput.js","../../application/js/src/wysiwyg.js","../../application/js/index.umd.js"],"sourcesContent":["/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): util.js\r\n   Some Utility Functions\r\n*/\r\n\r\n// import $ from 'jquery'\r\n// import bootstrap from 'bootstrap'\r\n\r\nclass Util {\r\n  static isReducedMotion () {\r\n    return window.matchMedia('(prefers-reduced-motion)').matches\r\n  }\r\n\r\n  /**\r\n  static hasTransitionStart () {\r\n    if (Util._supportsTransitionStart !== null) return Util._supportsTransitionStart\r\n\r\n    Util._supportsTransitionStart = 'ontransitionstart' in window// doesn't work in Chrome\r\n    if (!Util._supportsTransitionStart) {\r\n      var tmp = $('<div style=\"opacity: 0; transition: opacity 1ms\" />').appendTo(document.body)\r\n      tmp.on('transitionstart', function () {\r\n        Util._supportsTransitionStart = true\r\n      }).on('transitionend', function () {\r\n        tmp.remove()\r\n      })\r\n\r\n      tmp.get(0).offsetTop\r\n      tmp.css('opacity', '1')\r\n    }\r\n\r\n    return Util._supportsTransitionStart\r\n  }\r\n  */\r\n\r\n  static getScrollbarInfo (recalc = false) {\r\n    if (recalc === false && Util._scrollbarInfo !== null) return Util._scrollbarInfo\r\n\r\n    const scrollDiv = document.createElement('div')\r\n    scrollDiv.style.overflow = 'scroll'\r\n    scrollDiv.style.position = 'absolute'\r\n    scrollDiv.style.width = '50px'\r\n    scrollDiv.style.height = '50px'\r\n\r\n    var scrollbar = {}\r\n\r\n    document.body.appendChild(scrollDiv)\r\n    scrollbar.width = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth\r\n    document.documentElement.style.setProperty('--scrollbar-width', scrollbar.width + 'px')\r\n\r\n    var thinWidth = scrollbar.width\r\n    if (window.CSS) {\r\n      scrollbar.thin = window.CSS.supports('scrollbar-width', 'thin')// currently only firefox 64+ supports it\r\n      if (scrollbar.thin) {\r\n        scrollDiv.style['scrollbar-width'] = 'thin'\r\n        thinWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth\r\n      }\r\n\r\n      scrollbar.overlay = window.CSS.supports('overflow', 'overlay')\r\n    } else {\r\n      scrollbar.thin = false\r\n\r\n      scrollDiv.style.overflow = 'overlay'// Webkit/Chromium based browsers support it\r\n      scrollbar.overlay = scrollbar.width > 0 && scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth === 0\r\n    }\r\n    document.documentElement.style.setProperty('--moz-scrollbar-thin', thinWidth + 'px')\r\n\r\n    scrollDiv.style['-ms-overflow-style'] = '-ms-autohiding-scrollbar'// IE\r\n    scrollbar.autohide = scrollbar.width > 0 && scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth === 0\r\n\r\n    /// //////////////////////////////////\r\n    document.body.removeChild(scrollDiv)\r\n    Util._scrollbarInfo = scrollbar\r\n\r\n    return Util._scrollbarInfo\r\n  }\r\n}\r\nUtil._supportsTransitionStart = null// static property\r\nUtil._scrollbarInfo = null// static property\r\n\r\n/**\r\n* ------------------------------------------------------------------------\r\n* jQuery\r\n* ------------------------------------------------------------------------\r\n*/\r\n\r\nexport default Util\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): general.js\r\n   General Ace Function\r\n*/\r\n\r\nimport $ from 'jquery'\r\n// import bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\nclass Basic {\r\n  static _HandleBasics () {\r\n    Basic._handleAlerts()\r\n    Basic._handleDropdowns()\r\n    Basic._handleNavbar()\r\n    Basic._handleTabScroll()\r\n    Basic._handleScrollTop()\r\n\r\n    Basic._handleSticky()\r\n    Basic._handleOther()\r\n  }\r\n\r\n  static _handleAlerts () {\r\n    // collapse alert instead of fading it out\r\n    $(document).on('close.bs.alert.alert-collapse', '.alert.alert-collapse', function (e) {\r\n      e.preventDefault()\r\n      $(this).wrap('<div class=\"collapse show alert-collapse\"></div>').parent().collapse('hide').one('hidden.bs.collapse', function () {\r\n        $(this).remove()\r\n      })\r\n    })\r\n  }\r\n\r\n  static _handleDropdowns () {\r\n    // hide dropdown when clicked on an element inside it with \"data-dismiss=dropdown\" attr\r\n    $(document).on('click', '[data-dismiss=dropdown]', function (e) {\r\n      $(e.target).closest('.dropdown-menu').removeClass('show').parent().removeClass('show')\r\n    })\r\n\r\n    // don't hide dropdown when clicked inside a .dropdown-clickable element\r\n    $(document).on('click.dropdown-clickable', '.dropdown-clickable', function (e) {\r\n      e.stopImmediatePropagation()\r\n    })\r\n  }\r\n\r\n  static _handleNavbar () {\r\n    // hide navbar-collapse when clicked on it (i.e. the backdrop)\r\n    $(document).on('click', '.navbar-backdrop.show', function (e) {\r\n      if (e.target === this) $(this).collapse('hide')\r\n    })\r\n\r\n    var hideBodyScrollbar = false\r\n    $('.navbar-collapse')\r\n      .on('shown.bs.collapse', function () {\r\n        hideBodyScrollbar = false\r\n\r\n        // move focus to it\r\n        $(this).find('.autofocus').focus()\r\n\r\n        if (this.classList.contains('navbar-backdrop')) {\r\n          var scrollbarInfo = Util.getScrollbarInfo()\r\n          if (scrollbarInfo.width === 0) {\r\n            document.body.classList.add('mob-navbar-body')\r\n            hideBodyScrollbar = true\r\n          }\r\n        }\r\n      })\r\n      .on('hidden.bs.collapse', function () {\r\n        if ($(this).hasClass('auto-collapsing')) {\r\n          $(this).removeClass('auto-collapsing')\r\n          return\r\n        }\r\n\r\n        $('.navbar').removeClass('navbar-expanded')\r\n\r\n        if (hideBodyScrollbar) {\r\n          document.body.classList.remove('mob-navbar-body')\r\n        }\r\n      })\r\n      .on('show.bs.collapse', function () {\r\n        $('.navbar').addClass('navbar-expanded')\r\n        // hide other ones\r\n        $('.navbar-collapse.show').addClass('auto-collapsing').css('transition-duration', '.1ms').collapse('hide').css('transition-duration', '')\r\n      })\r\n\r\n    // if navbar dropdowns are not entirely inside window area, move them accordingly\r\n    var _adjustDropdown = function () {\r\n      var isRTL = document.documentElement.classList.contains('rtl')\r\n      var prop = !isRTL ? 'marginLeft' : 'marginRight'\r\n      this.style[prop] = ''\r\n\r\n      var rect = this.getBoundingClientRect()\r\n      if (rect.left < 0) this.style[prop] = parseInt(-1 * rect.left) + 5 + 'px'\r\n      else {\r\n        var sw = document.body.scrollWidth\r\n        if (rect.right > sw) {\r\n          this.style[prop] = parseInt(sw - rect.right - 5) + 'px'\r\n        }\r\n      }\r\n    }\r\n    $('.navbar').on('transitionstart.adjust', '.dropdown-mega .dropdown-menu', function (ev) {\r\n      if (ev.target !== this || ev.originalEvent.propertyName !== 'transform') return\r\n      _adjustDropdown.call(this)\r\n    })\r\n    $('.navbar').on('shown.bs.dropdown', '.dropdown-mega .dropdown-menu', function () {\r\n      var pos = window.getComputedStyle(this).position\r\n      if (pos === 'absolute') _adjustDropdown.call(this)\r\n    })\r\n  }\r\n\r\n  static _handleTabScroll () {\r\n    var _firefox = 'MozAppearance' in document.documentElement.style\r\n    // scroll tab button elements into view when clicked\r\n    var _scrollIntoView = function (smooth = true) {\r\n      var li = this.parentNode\r\n      var nav = li.parentNode\r\n      // if (!nav.classList.contains('nav-tabs-scroll')) return\r\n\r\n      var navClientWidth = nav.clientWidth\r\n      if (nav.scrollWidth <= navClientWidth) return // don't scroll if not needed\r\n\r\n      // scroll to this element (center it)\r\n      var _scrollLeft = li.offsetLeft - (navClientWidth - li.clientWidth) / 2\r\n      if (_scrollLeft < 0) _scrollLeft = 0\r\n\r\n      smooth = !Util.isReducedMotion() && smooth === true\r\n      try {\r\n        nav.scrollTo({\r\n          top: 0,\r\n          left: _scrollLeft,\r\n          behavior: smooth ? 'smooth' : 'auto'\r\n        })\r\n\r\n        // firefox needs double push when scrolling back\r\n        if (_firefox && _scrollLeft < nav.scrollLeft) {\r\n          setTimeout(function () {\r\n            nav.scrollTo({\r\n              top: 0,\r\n              left: _scrollLeft,\r\n              behavior: smooth ? 'smooth' : 'auto'\r\n            })\r\n          }, 0)\r\n        }\r\n      } catch (e) {\r\n        nav.scrollLeft = _scrollLeft\r\n      }\r\n    }\r\n\r\n    $('.nav-tabs-scroll').each(function () {\r\n      var active = this.querySelector('.active')\r\n      // scroll to active element on page load\r\n      if (active) {\r\n        if (!_firefox) {\r\n          _scrollIntoView.call(active, 0)\r\n        } else { // still firefox doesn't scroll back to zero on page load!\r\n          setTimeout(() => {\r\n            this.scrollLeft = 1\r\n            _scrollIntoView.call(active, 0)\r\n          }, 500)\r\n        }\r\n      }\r\n\r\n      $(this).find('a').on('click', function () {\r\n        _scrollIntoView.call(this)\r\n      })\r\n    })\r\n\r\n    // tab pane swiping\r\n    if ('ontouchstart' in window) {\r\n      $('.tab-sliding:not([data-swipe=\"none\"]').each(function () {\r\n        var allowedDir = $(this).attr('data-swipe') || null\r\n        $(this).find('.tab-pane').on('touchstart', function (ev) {\r\n          if (!this.classList.contains('active')) return\r\n          var curPane = this\r\n          var isRTL = document.documentElement.classList.contains('rtl')\r\n          var initialTransform = !isRTL ? 'translateX(100%)' : 'translateX(-100%)'\r\n\r\n          var touches = ev.originalEvent.changedTouches[0]\r\n\r\n          var swipeDir = 0\r\n          var x1 = touches.pageX\r\n          var y1 = touches.pageY\r\n          var t1 = Date.now()\r\n\r\n          var curDir = 0\r\n\r\n          var paneWidth = curPane.clientWidth\r\n          var siblingPane = null\r\n\r\n          function _dismiss () {\r\n            $(curPane).off('touchmove touchend touchcancel')\r\n            curPane.style.transform = ''\r\n            curPane.classList.remove('tab-swiping')\r\n\r\n            if (siblingPane) {\r\n              siblingPane.style.transform = ''\r\n              siblingPane.classList.remove('tab-swiping')\r\n            }\r\n          }\r\n\r\n          function _reset (sibling) {\r\n            sibling.style.transform = ''\r\n            sibling.style.transitionDuration = '1ms'\r\n            sibling.classList.remove('tab-swiping')\r\n            function _transitionEnd () {\r\n              this.style.transitionDuration = ''\r\n              this.removeEventListener('transitionend', _transitionEnd)\r\n            }\r\n            sibling.addEventListener('transitionend', _transitionEnd)\r\n          }\r\n\r\n          $(this).on('touchmove', function (ev) {\r\n            var touches = ev.changedTouches[0]\r\n            var newX = touches.pageX\r\n            var newY = touches.pageY\r\n\r\n            if (swipeDir === 0) {\r\n              var diffY = Math.abs(y1 - newY)\r\n              var diffX = Math.abs(x1 - newX)\r\n\r\n              if (diffY > diffX) {\r\n                swipeDir = 2// vertical i.e. scroll\r\n                $(curPane).off('touchmove')\r\n              } else if (diffX > 10) {\r\n                swipeDir = 1// horizontal swipe\r\n              }\r\n            }\r\n            if (swipeDir !== 1) return // return if not horizontal swipe\r\n\r\n            var moveX = parseInt(x1 - newX)\r\n            var newDir = 0\r\n\r\n            if ((allowedDir === null || (allowedDir === 'left')) && ((!isRTL && moveX > 0) || (isRTL && moveX < 0))) newDir = 1\r\n            else if ((allowedDir === null || (allowedDir === 'right')) && ((!isRTL && moveX < 0) || (isRTL && moveX > 0))) newDir = -1\r\n\r\n            if (newDir !== 0 && newDir !== curDir) {\r\n              if (siblingPane !== null) _reset(siblingPane)// undo previous direction for when we change swipe direction before a touchend\r\n              curDir = newDir\r\n\r\n              var targetPane = curPane.getAttribute('data-swipe-' + (curDir === 1 ? 'next' : 'prev'))\r\n              if (targetPane) targetPane = document.querySelector(targetPane)\r\n              siblingPane = targetPane || (curDir === 1 ? curPane.nextElementSibling : curPane.previousElementSibling)\r\n\r\n              if (siblingPane === null || siblingPane === curPane) {\r\n                curDir = 0\r\n              } else {\r\n                curPane.classList.add('tab-swiping')\r\n                siblingPane.classList.add('tab-swiping')\r\n              }\r\n            }\r\n\r\n            var moveXabs = Math.abs(moveX)\r\n            if (curDir !== 0 && moveXabs < paneWidth + 24) { // don't move more than 32px beyond its size\r\n              curPane.style.transform = initialTransform + ' translateX(' + (-1 * moveX) + 'px)'\r\n              siblingPane.style.transform = 'translateX(' + (-1 * moveX) + 'px)'\r\n            } else if (curDir === 0 && moveXabs < 24) {\r\n              curPane.style.transform = initialTransform + ' translateX(' + (-1 * moveX) + 'px)'\r\n            }\r\n          })// touchmove\r\n            .on('touchend touchcancel', function (ev) {\r\n              var touches = ev.originalEvent.changedTouches[0]\r\n              var x2 = touches.pageX\r\n              var t2 = Date.now()\r\n              var diff = Math.abs(x2 - x1)\r\n\r\n              _dismiss()\r\n\r\n              if (curDir !== 0 && swipeDir === 1 &&\r\n                                ((diff > paneWidth / 4 || diff > 100) || (diff > paneWidth / 6 && t2 - t1 < 300))\r\n              ) { // if moved more than 1/4 of its width or 100px or 1/6 in less than 300ms\r\n                siblingPane.classList.add('active', 'show')\r\n                curPane.classList.remove('active', 'show')\r\n\r\n                var id1 = curPane.id; var id2 = siblingPane.id\r\n                $('[href=\"#' + id1 + '\"],[data-target=\"#' + id1 + '\"]').removeClass('active')\r\n\r\n                var newActive = $('[href=\"#' + id2 + '\"],[data-target=\"#' + id2 + '\"]')\r\n                newActive.addClass('active')\r\n\r\n                _scrollIntoView.call(newActive.get(0))\r\n              }\r\n            })// touchend\r\n        })// tab-pane touchstart\r\n      })// each\r\n    }// 'ontouchstart' in window\r\n  }\r\n\r\n  static _handleScrollTop () {\r\n    // scroll to top button\r\n    var _scrollBtn = document.querySelector('.btn-scroll-up')\r\n    // return if button is not visible\r\n    if (_scrollBtn === null || _scrollBtn.offsetParent === null) return\r\n\r\n    var showScrollbtn = function () {\r\n      _scrollBtn.classList.add('scroll-btn-visible')\r\n    }\r\n\r\n    var hideScrollBtn = function () {\r\n      _scrollBtn.classList.remove('scroll-btn-visible')\r\n    }\r\n\r\n    var scrollToTop = function () {\r\n      try {\r\n        // ScrollToOptions parameter may not be supported on some older browsers\r\n        var smoothScroll = !Util.isReducedMotion()\r\n        window.scroll({\r\n          top: 0,\r\n          behavior: smoothScroll ? 'smooth' : 'auto'\r\n        })\r\n      } catch (e) {\r\n        window.scroll(0, 0)\r\n      }\r\n    }\r\n\r\n    var _modernBrowser = 'IntersectionObserver' in window\r\n    _scrollBtn.addEventListener('click', function (e) {\r\n      e.preventDefault()\r\n\r\n      if (_modernBrowser) hideScrollBtn()\r\n      scrollToTop()\r\n    })\r\n\r\n    if (_modernBrowser) {\r\n      var _scrollBtnObserve = document.createElement('DIV')\r\n      _scrollBtnObserve.classList.add('scroll-btn-observe')\r\n      document.body.appendChild(_scrollBtnObserve)\r\n\r\n      const observer = new window.IntersectionObserver(([entry]) => {\r\n        var isOut = entry.intersectionRatio < 1 && entry.boundingClientRect.y < 0\r\n        if (isOut) {\r\n          showScrollbtn()\r\n        } else {\r\n          hideScrollBtn()\r\n        }\r\n      },\r\n      {\r\n        threshold: [1.0],\r\n        delay: 100\r\n      }\r\n      )\r\n\r\n      observer.observe(_scrollBtnObserve)\r\n\r\n      /**\r\n      setTimeout(function () {\r\n        // initial check!\r\n        if (observedEl.getBoundingClientRect().y < 0) {\r\n          showScrollbtn()\r\n        }\r\n      }, 200)\r\n      */\r\n    } else {\r\n      // if browser doesn't support `IntersectionObserver` show the scroll to top button\r\n      // we used to listen to 'scroll' event, but not anymore\r\n      showScrollbtn()\r\n    }\r\n  }\r\n\r\n  /// /\r\n  // we use it when a sticky element becomes stuck on top and 1 pixel of it goes out of view (because of top: -1px)\r\n  // so IntersectionObserver is triggered with intersectionRatio < 1 and y < 0\r\n  // then we trigger an event for it, so we may for example change its classlist to update styling\r\n  static _handleSticky () {\r\n    if (!window.IntersectionObserver) return\r\n    const stickyElements = document.querySelectorAll('[class*=\"sticky-nav\"]')\r\n    if (stickyElements.length > 0) {\r\n      const observer = new window.IntersectionObserver(([entry]) => {\r\n        var isSticky = entry.intersectionRatio < 1 && entry.boundingClientRect.y < 0\r\n\r\n        // isSticky=true means we are at sticky position\r\n        // so if our sticky element is for example 'sticky-nav-md' and we are at sticky position\r\n        // but our window size is above 'md' and therefore CSS rule 'position: sticky' is not applied at all\r\n        // so we check if we are really sticky or not\r\n        var stickyNav = entry.target.parentElement// entry.target is the `.sticky-trigger` and parentElement is the `.sticky-nav` element\r\n\r\n        if (isSticky && !stickyNav.classList.contains('sticky-nav')) { // don't check `.sticky-nav` element because it's sticky regardless of window size\r\n          var pos = window.getComputedStyle(stickyNav).position\r\n          if (!(pos === 'sticky' || pos === '-webkit-sticky')) isSticky = false\r\n        }\r\n\r\n        const evt = new window.CustomEvent('sticky-change', { detail: { isSticky } })\r\n        stickyNav.dispatchEvent(evt)\r\n      },\r\n      {\r\n        threshold: [1.0],\r\n        delay: 100\r\n      }\r\n      )\r\n\r\n      stickyElements.forEach((stickyEl) => {\r\n        // var pos = window.getComputedStyle(stickyEl).position\r\n        // if (!(pos === 'sticky' || pos === '-webkit-sticky')) return\r\n\r\n        // add a dummy child to watch\r\n        // when it goes out of window it means sticky-nav is sticky now\r\n        // because dummy element is top: -1px or when below navbar it's top : -1 * ($navbar-height + 1px);\r\n        var observedChild = document.createElement(stickyEl.tagName === 'UL' ? 'LI' : 'DIV')\r\n        observedChild.classList.add('sticky-trigger')\r\n        stickyEl.insertBefore(observedChild, stickyEl.firstChild)\r\n\r\n        observer.observe(observedChild)\r\n\r\n        setTimeout(function () {\r\n          if (observedChild.getBoundingClientRect().y < 0) {\r\n            var isSticky = true\r\n            if (isSticky && !stickyEl.classList.contains('sticky-nav')) {\r\n              var pos = window.getComputedStyle(stickyEl).position\r\n              if (!(pos === 'sticky' || pos === '-webkit-sticky')) isSticky = false\r\n            }\r\n            const evt = new window.CustomEvent('sticky-change', { detail: { isSticky: isSticky, initialCheck: true } })\r\n            stickyEl.dispatchEvent(evt)\r\n          }\r\n        }, 200)\r\n      })\r\n    }\r\n  }\r\n\r\n  // /////////\r\n\r\n  static _handleOther () {\r\n    $('.input-floating-label input').each(function () {\r\n      if (this.value !== '') this.classList.add('has-content')\r\n      else this.classList.remove('has-content')\r\n    })\r\n    $(document).on('focusout', '.input-floating-label input', function (e) {\r\n      if (this.value !== '') this.classList.add('has-content')\r\n      else this.classList.remove('has-content')\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  Basic._HandleBasics()\r\n}\r\n\r\nexport default Basic\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): scrollbar.js\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceScroll'\r\nconst VERSION = '2.1.0'\r\nconst DATA_KEY = 'ace.scroll'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  ACE_SCROLL: '[ace-scroll]'\r\n}\r\n\r\nconst DefaultType = {\r\n  type: 'string',\r\n  smooth: 'boolean',\r\n\r\n  height: '(number|null)',\r\n  lock: 'boolean',\r\n\r\n  ignore: '(string|null)',\r\n\r\n  plugin: 'string',\r\n  options: '(object|null)'// plugin settings\r\n}\r\n\r\nconst Default = {\r\n  type: 'native',\r\n  smooth: false,\r\n\r\n  height: null,\r\n  lock: false,\r\n\r\n  ignore: null,\r\n\r\n  plugin: 'SimpleBar',\r\n  options: null\r\n}\r\n\r\nclass Scrollbar {\r\n  constructor (element, config) {\r\n    this._element\t= element\r\n    this.$element\t= $(element)\r\n    this._config = this._getConfig(config)\r\n\r\n    this._scrollbarInfo = Util.getScrollbarInfo()\r\n\r\n    this.enableScrollbars()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  enableScrollbars () {\r\n    /**\r\n    this._element.scrollTop = 0\r\n    // For firefox. Because it has persistent scroll position on page reload\r\n    // which doesn't look good when changing overflow: hidden to overflow: scroll on hover\r\n    */\r\n\r\n    // no scrollbars when specified\r\n    if (this._config.ignore !== null) {\r\n      if (this._config.ignore === 'mobile' && this._scrollbarInfo.width === 0 && 'ontouchstart' in window && window.matchMedia('(max-width: 840px)')) return\r\n      else if (this._config.ignore === 'desktop' && this._scrollbarInfo.width > 0) return\r\n    }\r\n\r\n    this.update(this._config.height)\r\n    this.lock(this._config.lock)\r\n\r\n    this._element.classList.remove('ace-scroll', 'ace-scroll-mob', 'ace-scroll-wrap')\r\n    if (this._config.type === 'native') {\r\n      this._addNativeScrolls()\r\n    } else if (this._config.type === 'auto') {\r\n      this._preferNativeScrolls()\r\n    } else if (this._config.type === 'plugin') {\r\n      this._addPluginScrolls()\r\n    }\r\n  }\r\n\r\n  update (_height) {\r\n    if (!_height) return\r\n    if (!isNaN(_height)) _height += 'px'\r\n    this._element.style.maxHeight = _height\r\n  }\r\n\r\n  lock (_lock) {\r\n    if (_lock) this._element.classList.add('ace-scroll-lock')\r\n    else this._element.classList.remove('ace-scroll-lock')\r\n  }\r\n\r\n  _addNativeScrolls (smooth) {\r\n    if (this._scrollbarInfo.width === 0) this._element.classList.add('ace-scroll-mob')// mobile device\r\n    else {\r\n      this._element.classList.add('ace-scroll')\r\n\r\n      var _smooth = typeof smooth !== 'undefined' ? smooth : this._config.smooth\r\n      if (_smooth) {\r\n        // wrap children inside an .ace-scroll-inner\r\n        var wrapper = document.createElement('div')\r\n        wrapper.classList.add('ace-scroll-inner')\r\n        wrapper.style.color = window.getComputedStyle(this._element).color\r\n\r\n        while (this._element.firstChild) {\r\n          wrapper.appendChild(this._element.firstChild)\r\n        }\r\n        this._element.appendChild(wrapper)\r\n\r\n        /// ///////\r\n        // disable the initial transition effects\r\n        this._element.style.transition = 'none'\r\n\r\n        this._element.classList.add('ace-scroll-wrap')\r\n\r\n        this._element.offsetLeft// reflow\r\n        this._element.style.transition = ''\r\n      }\r\n    }\r\n  }\r\n\r\n  _preferNativeScrolls () {\r\n    if (this._scrollbarInfo.width === 0 || this._scrollbarInfo.overlay || this._scrollbarInfo.thin || !this._hasScrollbarPlugin()) {\r\n      this._addNativeScrolls()\r\n    } else {\r\n      this._addPluginScrolls()\r\n    }\r\n  }\r\n\r\n  _addPluginScrolls () {\r\n    if (this._hasScrollbarPlugin()) {\r\n      return new window[this._config.plugin](this._element, this._config.options)\r\n    } else {\r\n      this._addNativeScrolls()\r\n    }\r\n  }\r\n\r\n  _hasScrollbarPlugin () {\r\n    return !!window[this._config.plugin]\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n\r\n      let options = this.getAttribute('ace-scroll') || {}\r\n      if (!isNaN(options)) options = { height: parseInt(options) }\r\n      else if (options.length > 1) {\r\n        try {\r\n          options = JSON.parse(options)\r\n        } catch (e) {}\r\n      }\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {},\r\n        ...typeof options === 'object' && options ? options : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Scrollbar(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  const scrollbars = [].slice.call(document.querySelectorAll(Selector.ACE_SCROLL))\r\n\r\n  for (let i = 0; i < scrollbars.length; i++) {\r\n    const $scrollbars = $(scrollbars[i])\r\n    Scrollbar._jQueryInterface.call($scrollbars, $scrollbars.data())\r\n  }\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Scrollbar._jQueryInterface\r\n  $.fn[NAME].Constructor = Scrollbar\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Scrollbar._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Scrollbar\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): sidebar.js\r\n   Handling Sidebar\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceSidebar'\r\nconst VERSION = '2.1.0'\r\nconst DATA_KEY = 'ace.sidebar'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`,\r\n  COLLAPSE: `collapse${EVENT_KEY}`,\r\n  EXPAND: `expand${EVENT_KEY}`,\r\n  SHOWN: `shown${EVENT_KEY}`,\r\n  HIDDEN: `hidden${EVENT_KEY}`,\r\n  COLLAPSED: `collapsed${EVENT_KEY}`,\r\n  EXPANDED: `expanded${EVENT_KEY}`,\r\n  LOAD_DATA_API: `load${EVENT_KEY}${DATA_API_KEY}`,\r\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\n\r\nconst Selector = {\r\n  SIDEBAR: '.sidebar',\r\n  DATA_TOGGLE: '[data-toggle=\"sidebar\"]',\r\n  DATA_TOGGLE_MOBILE: '[data-toggle-mobile=\"sidebar\"]'\r\n}\r\n\r\nconst DefaultType = {\r\n  swipe: 'boolean',\r\n  dismiss: 'boolean',\r\n  backdrop: 'boolean',\r\n\r\n  gotoactive: 'boolean',\r\n  subscroll: 'boolean',\r\n\r\n  pullup: 'boolean'\r\n}\r\n\r\nconst Default = {\r\n  swipe: false,\r\n  dismiss: false,\r\n  backdrop: false,\r\n\r\n  gotoactive: false,\r\n  subscroll: true,\r\n\r\n  pullup: false\r\n}\r\n\r\nconst ClassName = {\r\n  DESKTOP_HIDE: 'collapsed',\r\n  MOBILE_SHOW: 'sidebar-visible',\r\n  COLLAPSED:\t'collapsed',\r\n\r\n  TOGGLING: 'toggling',\r\n\r\n  INNER_HOVER: 'is-hover',\r\n\r\n  BACKDROP: 'sidebar-backdrop',\r\n\r\n  HORIZONTAL: 'sidebar-h'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Sidebar {\r\n  constructor (element, config) {\r\n    this._hasTransitionEvent = false\r\n    this._hasTransitionEvent2 = false\r\n    this._isTransitioning = false\r\n    this._isBeingDismissed = false\r\n\r\n    this._sidebar = element\r\n    this._sidebar.classList.remove(...['d-none', 'd-xl-block'])\r\n    this._inner = this._sidebar.querySelector('.sidebar-inner')\r\n    this._config = this._getConfig(config)\r\n    this._scroller = \tthis._sidebar.querySelector('[class*=\"ace-scroll\"]')\r\n\r\n    this._pullupEnabled = false\r\n\r\n    this._triggerArray = [].slice.call(document.querySelectorAll(\r\n      `[data-toggle=\"sidebar\"][href=\"#${element.id}\"],` +\r\n      `[data-toggle=\"sidebar\"][data-target=\"#${element.id}\"]`\r\n    ))\r\n    this._triggerArrayMobile = [].slice.call(document.querySelectorAll(\r\n      `[data-toggle-mobile=\"sidebar\"][href=\"#${element.id}\"],` +\r\n      `[data-toggle-mobile=\"sidebar\"][data-target=\"#${element.id}\"]`\r\n    ))\r\n\r\n    this._horizontal = this._sidebar.classList.contains(ClassName.HORIZONTAL)\r\n    this._desktopCollapsedClass = this._triggerArray.length > 0 ? (this._triggerArray[0].getAttribute('data-toggle-class') || ClassName.DESKTOP_HIDE) : ClassName.DESKTOP_HIDE\r\n\r\n    //\r\n    this._collapsed = this._sidebar.classList.contains(this._desktopCollapsedClass)\r\n\r\n    $(this._inner).on('focus', 'input', (e) => {\r\n      if (!this._collapsed) return\r\n      this._inner.classList.add('has-focus')\r\n      $(e.target).one('blur', () => {\r\n        this._inner.classList.remove('has-focus')\r\n      })\r\n    })\r\n    //\r\n\r\n    this._handleTriggerEvents()\r\n    this.enableSubmenuToggle()\r\n\r\n    if (this._config.pullup) this.enableSubmenuPullup()\r\n    if (this._config.gotoactive) this.scrollToActive()\r\n    if (this._config.backdrop) {\r\n      this._sidebar.classList.add(ClassName.BACKDROP)\r\n    } else if (this._sidebar.classList.contains(ClassName.BACKDROP)) {\r\n      this._config.backdrop = true\r\n    }\r\n\r\n    if (!this._horizontal && this._collapsed) {\r\n      this._addTransitionEvent()\r\n    }\r\n  }\r\n\r\n  // Getters\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  _handleTriggerEvents () {\r\n    var This = this\r\n    $(this._triggerArray).on('click', function () {\r\n      This.toggle(this)\r\n    })\r\n\r\n    $(this._triggerArrayMobile).on('click', function () {\r\n      This.toggleMobile(this)\r\n    })\r\n  }\r\n\r\n  toggle (btn = null) {\r\n    if (this._sidebar.classList.contains(this._desktopCollapsedClass)) {\r\n      this.expand(btn)\r\n    } else {\r\n      this.collapse(btn)\r\n    }\r\n  }\r\n\r\n  toggleMobile (btn = null) {\r\n    if (!this._sidebar.classList.contains(ClassName.MOBILE_SHOW)) {\r\n      this.show(btn)\r\n    } else {\r\n      this.hide(btn)\r\n    }\r\n  }\r\n  /// ////\r\n\r\n  expand (btn = null) {\r\n    if (!this._hasTransitionEvent) this._addTransitionEvent()\r\n    if (this._isTransitioning) return\r\n\r\n    const ev = new $.Event(Event.EXPAND)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._isTransitioning = true\r\n\r\n    this._sidebar.classList.add(ClassName.TOGGLING)\r\n    this._sidebar.classList.remove(this._desktopCollapsedClass)\r\n\r\n    this._updateTriggerBtns(this._triggerArray, true)\r\n\r\n    this._collapsed = false\r\n\r\n    if (Util.isReducedMotion() || this._horizontal) this._toggleCompleted()// call completion now\r\n\r\n    //\r\n    if (this._pullupEnabled) this._resetPullUp()\r\n\r\n    this._inner.classList.remove(ClassName.INNER_HOVER)\r\n  }\r\n\r\n  collapse (btn = null) {\r\n    if (!this._hasTransitionEvent) this._addTransitionEvent()\r\n    if (this._isTransitioning) return\r\n\r\n    const ev = new $.Event(Event.COLLAPSE)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._isTransitioning = true\r\n\r\n    this._sidebar.classList.add(ClassName.TOGGLING)\r\n    this._sidebar.classList.add(this._desktopCollapsedClass)\r\n\r\n    this._updateTriggerBtns(this._triggerArray, false)\r\n\r\n    this._collapsed = true\r\n\r\n    if (Util.isReducedMotion() || this._horizontal) this._toggleCompleted()// call completion now\r\n\r\n    //\r\n    if (this._pullupEnabled) this._resetPullUp()\r\n\r\n    // if the triggering button is inside sidebar, add is-hover class\r\n    if (btn !== null && this._sidebar.classList.contains('expandable') && this._inner.contains(btn)) {\r\n      this._inner.classList.add(ClassName.INNER_HOVER)\r\n    }\r\n  }\r\n\r\n  show (btn = null) {\r\n    if (!this._hasTransitionEvent2) this._addTransitionEvent2()\r\n\r\n    const ev = new $.Event(Event.SHOW)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._sidebar.classList.add(ClassName.MOBILE_SHOW)\r\n    this._updateTriggerBtns(this._triggerArrayMobile, true)\r\n\r\n    // hide sidebar if clicked outside of it\r\n    if (this._config.dismiss) {\r\n      // document.body.classList.add('overflow-hidden')\r\n      $(this._triggerArrayMobile).css('pointer-events', 'none') // disable this button, because if we click on it, it will hide and then instantly show the sidebar again\r\n      $(document).on('mouseup.sidebar-dismiss', (e) => {\r\n        if (!$.contains(this._sidebar, e.target)) { // if clicked outside sidebar\r\n          this._dismiss()\r\n        }\r\n      })\r\n    }\r\n\r\n    if (this._config.swipe) this.enableSwipeHide()\r\n\r\n    if (Util.isReducedMotion()) this._toggleMobileCompleted()// call completion now\r\n\r\n    // in some webkit mobile browsers, sidebar scrolling works but scrollbars are not visible, unless something like this forces it to become visible\r\n    if (this._scroller && !this._scroller.classList.contains('overflow-hidden')) {\r\n      this._scroller.classList.add('overflow-hidden')\r\n      this._scroller.offsetHeight// force redraw\r\n      this._scroller.classList.remove('overflow-hidden')\r\n    }\r\n\r\n    // hide body scrollbars\r\n    // if sidebar has backdrop or it's .sidebar-push & fixed\r\n    var scrollbarInfo = Util.getScrollbarInfo()\r\n    if (scrollbarInfo.width === 0 && (this._config.backdrop || (this._sidebar.classList.contains('sidebar-push') && this._sidebar.classList.contains('sidebar-fixed')))) {\r\n      document.body.classList.add('mob-sidebar-body')\r\n    }\r\n  }\r\n\r\n  hide (btn = null) {\r\n    if (!this._hasTransitionEvent2) this._addTransitionEvent2()\r\n\r\n    const ev = new $.Event(Event.HIDE)\r\n    $(this._sidebar).trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._sidebar.classList.remove(ClassName.MOBILE_SHOW)\r\n    this._updateTriggerBtns(this._triggerArrayMobile, false)\r\n\r\n    // if (this._config.backdrop || this._sidebar.classList.contains('sidebar-push')) {\r\n    document.body.classList.remove('mob-sidebar-body')\r\n    // }\r\n\r\n    if (Util.isReducedMotion()) this._toggleMobileCompleted()// call completion now\r\n  }\r\n\r\n  _dismiss () {\r\n    this.hide()\r\n    // document.body.classList.remove('overflow-hidden');\r\n    $(this._triggerArrayMobile).css('pointer-events', '')\r\n\r\n    $(document).off('.sidebar-dismiss')\r\n    $(document).off('.sidebar-swipe')\r\n  }\r\n\r\n  _updateTriggerBtns (btns, expanded = false) {\r\n    for (let i = 0, len = btns.length; i < len; i++) {\r\n      if (expanded) btns[i].classList.remove(ClassName.COLLAPSED)\r\n      else btns[i].classList.add(ClassName.COLLAPSED)\r\n\r\n      btns[i].setAttribute('aria-expanded', expanded)\r\n    }\r\n  }\r\n\r\n  _toggleCompleted () {\r\n    this._isTransitioning = false\r\n    this._sidebar.classList.remove(ClassName.TOGGLING)\r\n\r\n    var expanded = !this._sidebar.classList.contains(this._desktopCollapsedClass)\r\n    if (expanded) $(this._sidebar).trigger(Event.EXPANDED)\r\n    else $(this._sidebar).trigger(Event.COLLAPSED)\r\n\r\n    if (expanded) this._inner.classList.remove(ClassName.INNER_HOVER)\r\n  }\r\n\r\n  _toggleMobileCompleted () {\r\n    var shown = this._sidebar.classList.contains(ClassName.MOBILE_SHOW)\r\n    if (shown) $(this._sidebar).trigger(Event.SHOWN)\r\n    else $(this._sidebar).trigger(Event.HIDDEN)\r\n  }\r\n\r\n  _addTransitionEvent () {\r\n    if (this._hasTransitionEvent) return\r\n    this._hasTransitionEvent = true\r\n\r\n    $(this._sidebar)\r\n      .on('transitionend', (e) => {\r\n        if (e.target !== this._sidebar) return// make sure its not the children triggerring the event!\r\n\r\n        this._toggleCompleted()\r\n      })\r\n\r\n    // add 'is-hover' class to '.sidebar-inner' when it becomes expanded (i.e. when mouse hovers it)\r\n    var counter = 0\r\n    $(this._inner)\r\n      .on('transitionstart', (e) => {\r\n        // skip on mobile (in which propertyName is 'transform')\r\n        if (e.target !== this._inner || e.originalEvent.propertyName !== 'width') return\r\n\r\n        counter++\r\n        if (counter === 1) this._inner.classList.add(ClassName.INNER_HOVER)\r\n        // else if (counter >= 2) {\r\n        //  this.classList.remove(ClassName.INNER_HOVER)\r\n        //  counter = 0\r\n        // }\r\n      })\r\n      .on('transitionend', (e) => {\r\n        // skip on mobile (in which propertyName is transform)\r\n        if (e.target !== this._inner || e.originalEvent.propertyName !== 'width') return\r\n        if (this._inner.clientWidth < 120) {\r\n          // just to make sure we remove the extra class name when not needed\r\n          this._inner.classList.remove(ClassName.INNER_HOVER)\r\n          counter = 0\r\n          // blur input element\r\n          if (document.activeElement.tagName === 'INPUT' && this._inner.contains(document.activeElement)) document.activeElement.blur()\r\n        }\r\n      })\r\n  }\r\n\r\n  _addTransitionEvent2 () {\r\n    if (this._hasTransitionEvent2) return\r\n    this._hasTransitionEvent2 = true\r\n\r\n    $(this._inner).on('transitionend', (e) => {\r\n      if (e.target !== this._inner || e.originalEvent.propertyName !== 'transform') return\r\n\r\n      this._toggleMobileCompleted()\r\n    })\r\n  }\r\n\r\n  enableSwipeHide () {\r\n    // swipe to hide sidebar\r\n    var x1 = 0\r\n    var y1 = 0\r\n    var swipeDir = 0\r\n    var aceScroll = this._scroller\r\n\r\n    var This = this\r\n    var isRTL = false\r\n\r\n    var touchMoveCallback = function (ev) {\r\n      var touches = ev.changedTouches[0]\r\n      var newX = touches.pageX\r\n      var newY = touches.pageY\r\n\r\n      if (swipeDir === 0) {\r\n        var diffY = Math.abs(y1 - newY)\r\n        var diffX = Math.abs(x1 - newX)\r\n\r\n        if (diffY > diffX) {\r\n          swipeDir = 2// vertical i.e. scroll\r\n          if (aceScroll) aceScroll.classList.remove('overflow-hidden')\r\n          // document.body.classList.remove('overflow-hidden')\r\n\r\n          $(document).off('touchmove.sidebar-swipe')\r\n        } else if (diffX > 10) {\r\n          swipeDir = 1// horizontal swipe\r\n          This._inner.setAttribute('style', 'transition: none !important; will-change: transform; touch-action: none;')\r\n          if (aceScroll) aceScroll.classList.add('overflow-hidden')\r\n          // document.body.classList.add('overflow-hidden')\r\n        }\r\n      }\r\n      if (swipeDir !== 1) return\r\n\r\n      var moveX = parseInt(x1 - newX)\r\n      if ((!isRTL && moveX > 0) || (isRTL && moveX < 0)) { // move it outside of view\r\n        This._inner.style.transform = 'translateX(' + (-1 * moveX) + 'px)'\r\n      } else This._inner.style.transform = ''\r\n    }\r\n\r\n    var t1 = 0\r\n    $(document)\r\n      .on('touchstart.sidebar-swipe', function (e) {\r\n        var touches = e.originalEvent.changedTouches[0]\r\n        x1 = touches.pageX\r\n        y1 = touches.pageY\r\n\r\n        t1 = Date.now()\r\n        isRTL = document.documentElement.classList.contains('rtl')\r\n\r\n        $(this).on('touchmove.sidebar-swipe', function (e) {\r\n          touchMoveCallback(e.originalEvent)\r\n        })\r\n      })\r\n      .on('touchend.sidebar-swipe touchcancel.sidebar-swipe', function (e) {\r\n        var touches = e.originalEvent.changedTouches[0]\r\n        var x2 = touches.pageX\r\n        var t2 = Date.now()\r\n\r\n        if (swipeDir === 1 &&\r\n            ( // dismiss if moved by more than 100px or moved more than 40px in a short time (less than 300ms)\r\n              (!isRTL && (x1 - x2 > 100 || (x1 - x2 > 40 && t2 - t1 < 300))) || (isRTL && (x1 - x2 < -100 || (x1 - x2 < -40 && t2 - t1 < 300)))\r\n            )\r\n        ) { // if moved more than 100px or 40px in less than 300ms\r\n          This._dismiss()\r\n        }\r\n\r\n        This._inner.setAttribute('style', '')\r\n        if (aceScroll) aceScroll.classList.remove('overflow-hidden')\r\n        // document.body.classList.remove('overflow-hidden')\r\n\r\n        swipeDir = 0\r\n      })\r\n  }\r\n\r\n  enableSubmenuToggle () {\r\n    var _firefox = 'MozAppearance' in document.documentElement.style\r\n    var _scrollIntoViewOptions = 'scrollBehavior' in document.documentElement.style\r\n\r\n    var This = this\r\n    $(this._sidebar).on('click', '.dropdown-toggle', function (ev) {\r\n      ev.preventDefault()\r\n\r\n      var navItem = $(this).closest('.nav-item')// get the parent LI.nav-item\r\n      var subMenu = navItem.find('> .submenu').eq(0)// get the direct submenu (not the children)\r\n\r\n      var subPos = null\r\n      if (This._sidebar.classList.contains('hoverable') || This._sidebar.classList.contains('sidebar-hover')) {\r\n        // don't toggle submenu if submenu is supposed to be displayed as popup\r\n        subPos = window.getComputedStyle(subMenu.get(0)).position\r\n        if (subPos === 'absolute') return\r\n      }\r\n\r\n      if (subMenu.hasClass('collapsing')) return// don't toggle in the middle of toggling\r\n\r\n      // hide sibling submenus\r\n      navItem.addClass('is-toggling')\r\n      navItem.parent().find('> .nav-item.open').addClass('is-toggling').not(navItem).removeClass('open').find('> .submenu.show').collapse('hide')\r\n\r\n      // toggle submenu\r\n      navItem.toggleClass('open')\r\n      subMenu.collapse('toggle')\r\n\r\n      // scroll submenu into view\r\n      if (This._config.subscroll && This._sidebar.classList.contains('sidebar-fixed') && navItem.hasClass('open')) {\r\n        if (This._sidebar.classList.contains('sidebar-h')) {\r\n          subPos = window.getComputedStyle(subMenu.get(0)).position\r\n          if (subPos === 'absolute') return\r\n          return // no scroll for horizontal menu\r\n        }\r\n\r\n        var smooth = !Util.isReducedMotion()\r\n        setTimeout(function () {\r\n          try {\r\n            if (_scrollIntoViewOptions) {\r\n              subMenu.get(0).scrollIntoView({\r\n                behavior: smooth ? 'smooth' : 'auto',\r\n                block: 'nearest'\r\n              })\r\n            } else {\r\n              subMenu.get(0).scrollIntoView(false)\r\n            }\r\n          } catch (err) {}\r\n        }, smooth ? 150 : 0)\r\n      }\r\n\r\n      subMenu.on('shown.bs.collapse.is-toggling hidden.bs.collapse.is-toggling', function () {\r\n        subMenu.off('.is-toggling')\r\n        $('.nav-item.is-toggling').removeClass('is-toggling')\r\n      })\r\n\r\n      // firefox continues to disable scroll chaining when sidebar is not scrollable anymore, so a little fix around here\r\n      if (_firefox) {\r\n        subMenu.one('shown.bs.collapse.ff-fix hidden.bs.collapse.ff-fix', () => {\r\n          subMenu.off('.ff-fix')\r\n          if (This._scroller === null) return\r\n          if (This._scroller.scrollHeight <= This._scroller.clientHeight) {\r\n            This._scroller.style.overscrollBehavior = 'auto'\r\n          } else This._scroller.style.overscrollBehavior = ''\r\n        })\r\n      }\r\n    })\r\n  }\r\n\r\n  enableSubmenuPullup () {\r\n    if (this._pullupEnabled) return\r\n    this._pullupEnabled = true\r\n\r\n    var This = this\r\n    $(this._sidebar).on('transitionstart', '.submenu', function (ev) {\r\n      if (ev.target !== this || ev.originalEvent.propertyName !== 'margin-left' || !(This._collapsed || This._sidebar.classList.contains('sidebar-hover'))) return\r\n\r\n      var navItem = $(this).parent()\r\n      var submenu = $(this)\r\n\r\n      var navtxt = navItem.find('> .nav-link > .nav-text.fadeable')// only first level nav-text items\r\n\r\n      navItem.removeClass('submenu-pullup')\r\n      submenu.css('transform', '')\r\n      navtxt.css('transform', '')\r\n\r\n      /// ///////////////////////\r\n\r\n      var rect = submenu.get(0).getBoundingClientRect()\r\n      var wh = $(window).height()\r\n\r\n      var diff = parseInt(rect.bottom - wh)\r\n\r\n      if (diff > 0) { // if submenu bottom is below window area\r\n        // check to see if submenu top will go out of window if we move it up by \"diff\" pixels\r\n        // also consider that the first level item's .nav-text shouldn't go out of window's top\r\n        var navtxtHeight = navtxt.height() || 0\r\n\r\n        var diff2 = rect.top - navtxtHeight - diff - $('.navbar').height()// don't go above navbar\r\n        if (diff2 < 0) diff = diff + diff2\r\n\r\n        diff = parseInt(diff) + 1// so that submenu's border is visible\r\n        if (This._collapsed) {\r\n          if (navtxtHeight && diff > navtxtHeight / 2) navItem.addClass('submenu-pullup')// this class makes the .sub-arrow's color white, to match submenu color\r\n        } else {\r\n          navItem.addClass('submenu-pullup')\r\n        }\r\n\r\n        submenu.css('transform', 'translateY(-' + diff + 'px)')\r\n        if (This._collapsed) {\r\n          navtxt.css('transform', 'translateY(-' + diff + 'px)')\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  disableSubmenuPullup () {\r\n    this._pullupEnabled = false\r\n    $(this._sidebar).off('transitionstart.pullup')\r\n    this._resetPullUp()\r\n  }\r\n\r\n  _resetPullUp () {\r\n    $(this._sidebar).find('.submenu-pullup').removeClass('submenu-pullup').find('.nav-text, .submenu').css('transform', '')\r\n  }\r\n\r\n  // scroll active item into view\r\n  scrollToActive () {\r\n    if (!this._sidebar.classList.contains('sidebar-fixed') || this._scroller === null) return\r\n\r\n    var active = this._sidebar.querySelector('.nav-item.active:not(.open) > .nav-link')\r\n    try {\r\n      active.scrollIntoView({ behavior: 'auto', block: 'end' })// or block: \"center\"?\r\n      this._scroller.scrollTop = this._scroller.scrollTop + 30\r\n    } catch (e) {}\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Sidebar(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(window).on(Event.LOAD_DATA_API, () => {\r\n  const sidebars = [].slice.call(document.querySelectorAll(Selector.SIDEBAR))\r\n\r\n  for (let i = 0; i < sidebars.length; i++) {\r\n    const $sidebar = $(sidebars[i])\r\n    Sidebar._jQueryInterface.call($sidebar, $sidebar.data())\r\n  }\r\n})\r\n\r\n/**\r\n$(document).on(Event.CLICK_DATA_API, `${Selector.DATA_TOGGLE} , ${Selector.DATA_TOGGLE_MOBILE}`, function (event) {\r\n\tif (event.currentTarget.tagName === 'A') {\r\n\t  event.preventDefault()\r\n\t}\r\n\r\n\tconst $trigger = $(this)\r\n\tconst selector = bootstrap.Util.getSelectorFromElement(this)\r\n\tconst selectors = [].slice.call(document.querySelectorAll(selector))\r\n\r\n\t$(selectors).each(function () {\r\n\t  const $target = $(this)\r\n\t  const data    = $target.data(DATA_KEY)\r\n\t  const config  = data ? 'toggle' : $trigger.data()\r\n\t  Sidebar._jQueryInterface.call($target, config)\r\n\t})\r\n})\r\n*/\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Sidebar._jQueryInterface\r\n  $.fn[NAME].Constructor = Sidebar\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Sidebar._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Sidebar\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): aside.js\r\n   Aside element based on Bootstrap's modal\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceAside'\r\nconst VERSION = '2.1.0'\r\nconst DATA_KEY = 'ace.aside'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`\r\n}\r\n\r\nconst DefaultType = {\r\n  placement: 'string',\r\n  margin: 'number',\r\n\r\n  fade: 'boolean',\r\n\r\n  autohide: '(boolean|number)',\r\n  dismiss: 'boolean',\r\n\r\n  blocking: 'boolean',\r\n  backdrop: '(boolean|string)',\r\n\r\n  container: 'boolean',\r\n  belowNav: 'boolean',\r\n\r\n  width: '(boolean|number)',\r\n  height: '(boolean|number)',\r\n\r\n  scroll: '(boolean|string)'\r\n}\r\n\r\nconst Default = {\r\n  placement: 'center',\r\n  margin: 0,\r\n\r\n  fade: false,\r\n\r\n  autohide: false,\r\n  dismiss: false,\r\n\r\n  blocking: false,\r\n  backdrop: false,\r\n\r\n  container: false,\r\n  belowNav: false,\r\n\r\n  width: false,\r\n  height: false,\r\n\r\n  scroll: 'body'\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Aside {\r\n  constructor (element, config) {\r\n    this._config = this._getConfig(config)\r\n    this._element = element\r\n    this.$element = $(element)\r\n\r\n    this._init(this._config)\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  // update(config) {\r\n  // this._config = this._getConfig(config);\r\n  // this._clear();//clear previously assigned classes\r\n\r\n  // this._init();\r\n  // }\r\n\r\n  _init (config) {\r\n    this._setPlacement(config.placement)\r\n\r\n    this._element.classList.add('ace-aside')\r\n\r\n    if (!config.blocking) {\r\n      this._element.classList.add('modal-nb')\r\n      this.$element.attr('data-backdrop', 'false').data('backdrop', false)\r\n    } else {\r\n      if (config.backdrop) {\r\n        this.$element.attr('data-backdrop-bg', config.backdrop).data('backdrop', config.backdrop)\r\n      } else {\r\n        this.$element.attr('data-backdrop-bg', 'bg-transparent')\r\n      }\r\n    }\r\n\r\n    if (config.dismiss) this._element.classList.add('modal-dismiss')\r\n\r\n    if (config.fade) {\r\n      this._element.classList.add('aside-fade', 'fade')\r\n    }\r\n\r\n    if (config.belowNav) this._element.classList.add('aside-below-nav')\r\n\r\n    if (config.extraClass) this._element.classList.add(...config.extraClass.split(' '))\r\n\r\n    if (config.container) this._element.classList.add('container')\r\n\r\n    if (config.width) {\r\n      this.$element.find('.modal-dialog').css('width', isNaN(config.width) ? config.width : this._config.width + 'px')\r\n    }\r\n    if (config.height) {\r\n      this.$element.find('.modal-dialog').css('height', isNaN(config.height) ? config.height : this._config.height + 'px')\r\n    }\r\n\r\n    // if (/^(content|body)$/.test(config.scroll)) {\r\n    //  this.$element.find('.modal-content').addClass('scroll-' + config.scroll)\r\n    // }\r\n\r\n    this.$element.off('shown.bs.modal.autohide')\r\n    if (config.autohide) {\r\n      const This = this\r\n      this.$element.on('shown.bs.modal.autohide', function () {\r\n        setTimeout(function () {\r\n          This.hide()\r\n        }, config.autohide)\r\n      })\r\n    }\r\n  }\r\n\r\n  _setPlacement (placement = 'center') {\r\n    const placementMap = {\r\n      t: 'aside-top',\r\n      top: 'aside-top',\r\n      tc: 'aside-top aside-c',\r\n      tr: 'aside-top aside-r',\r\n      tl: 'aside-top aside-l',\r\n\r\n      b: 'aside-bottom',\r\n      bottom: 'aside-bottom',\r\n      bc: 'aside-bottom aside-c',\r\n      br: 'aside-bottom aside-r',\r\n      bl: 'aside-bottom aside-l',\r\n\r\n      r: 'aside-right',\r\n      right: 'aside-right',\r\n      rc: 'aside-right aside-m',\r\n\r\n      l: 'aside-left',\r\n      left: 'aside-left',\r\n      lc: 'aside-left aside-m',\r\n\r\n      c: 'aside-center',\r\n      center: 'aside-center'\r\n    }\r\n\r\n    placement = placement || 'c'\r\n    const className = placementMap[placement] || 'aside-center'\r\n    if (placement === 'c' || placement === 'center') {\r\n      this._config.fade = true\r\n      this._element.classList.remove('container')\r\n    }\r\n\r\n    this._element.className = this._element.className + ' ' + className\r\n  }\r\n\r\n  /**\r\n  _clear() {\r\n    this._element.classList.remove('modal-nb');\r\n    this._element.classList.remove('modal-dismiss');\r\n    this._element.classList.remove('aside-fade');\r\n    this._element.classList.remove('container');\r\n\r\n    this._element.className = this._element.className.replace(/aside\\-\\w+\\s/ , ' ');\r\n  }\r\n  */\r\n\r\n  // Public methods\r\n  show () {\r\n    const showEvent = new $.Event(Event.SHOW)\r\n    this.$element.trigger(showEvent)\r\n    if (showEvent.isDefaultPrevented()) {\r\n      return\r\n    }\r\n\r\n    this.$element.modal('show')\r\n  }\r\n\r\n  hide () {\r\n    const hideEvent = new $.Event(Event.HIDE)\r\n    this.$element.trigger(hideEvent)\r\n    if (hideEvent.isDefaultPrevented()) {\r\n      return\r\n    }\r\n\r\n    this.$element.modal('hide')\r\n  }\r\n\r\n  // Private methods\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $element = $(this)\r\n\r\n      let data = $element.data(DATA_KEY)\r\n\r\n      // return if it's a function call\r\n      if (typeof config === 'string' && data) {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n\r\n        data[config]()// call function\r\n        return\r\n      }\r\n\r\n      const _config = {\r\n        ...Default,\r\n        ...$(this).data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Aside(this, _config)\r\n        $element.data(DATA_KEY, data)\r\n      } else {\r\n        // update config\r\n        if (typeof config === 'object') data.update(_config)\r\n      }\r\n    })\r\n  }\r\n\r\n  //\r\n  static _HandleAside () {\r\n    var visibleModalSelector = '.modal.show:not(.modal-nb)'\r\n    var dismissEventId = 0\r\n\r\n    $(document)\r\n      .on('show.bs.modal', '.modal', function (e) {\r\n        if (e.isDefaultPrevented()) return\r\n\r\n        var modal = this\r\n        if (modal.classList.contains('modal-nb')) {\r\n          if ($(visibleModalSelector).length === 0) {\r\n            document.body.classList.add('modal-nb')// disable .modal-open effects for .modal-nb\r\n          }\r\n        } else {\r\n          if (!modal.classList.contains('ace-aside')) {\r\n            // check to see if we will have modal scrollbars\r\n            modal.style.display = 'block'\r\n            if (modal.scrollHeight > modal.clientHeight) document.body.classList.add('modal-scroll')\r\n            var scrollbars = Util.getScrollbarInfo()\r\n            if (scrollbars.width === 0) document.body.classList.add('scrollbar-w0')\r\n            modal.style.display = ''\r\n          }\r\n\r\n          // set modal padding value (equal to scrollbar width)\r\n          document.body.style.setProperty('--modal-padding', (window.innerWidth - document.body.scrollWidth) + 'px')\r\n\r\n          var backdropBg = $(modal).attr('data-backdrop-bg')\r\n          if (backdropBg) {\r\n            setTimeout(function () {\r\n              $('.modal-backdrop').addClass(backdropBg)\r\n            }, 0)\r\n          }\r\n        }\r\n      })\r\n      .on('shown.bs.modal', '.modal', function (e) {\r\n        var modal = this\r\n\r\n        if (modal.classList.contains('modal-nb')) {\r\n          document.body.classList.remove('modal-nb')\r\n\r\n          if ($(visibleModalSelector).length === 0) { // if no blocking modals\r\n            document.body.classList.remove('modal-open')// disable .modal-open effects\r\n            document.body.style.paddingRight = ''// and remove paddingRight\r\n          }\r\n\r\n          if (modal.classList.contains('modal-dismiss')) {\r\n            // we add an extra ID to our event namespace\r\n            // because sometimes before a dismissible modal is hidden inside the below setTimeout, another dismissible gets shown and registers the following event which gets\r\n            // cleared in the on.hidden event below ... so we use different IDs for each one ...\r\n            modal.setAttribute('data-dismiss-event-id', ++dismissEventId)\r\n            $(document.body).on('mouseup.aside-dismiss.' + dismissEventId + ' touchend.aside-dismiss.' + dismissEventId, function (e) {\r\n              // why mouseup? because 'click' may get 'stopPropagated' in some plugins such as Bootstrap's dropdown\r\n              if (!$.contains(modal, e.target)) { // clicked outside modal\r\n                // $(document.body).off('.aside-dismiss.'+dismissEventId);//not needed, handled in hidden event callback\r\n\r\n                // why timeout?\r\n                // because if we click on the same button that triggers this modal, its 'hide' function will be called and instantly followed by 'show' function\r\n                // so we first let 'show' be called and then we call 'hide'\r\n                setTimeout(function () {\r\n                  $(modal).modal('hide')\r\n                }, 0)\r\n              }\r\n            })\r\n          }\r\n        }\r\n      })\r\n\r\n      .on('hidden.bs.modal', '.modal', function () {\r\n        if ($(visibleModalSelector).length === 0) document.body.style.paddingRight = ''// required for rare cases that body padding is still not cleared\r\n\r\n        if (!this.classList.contains('modal-nb')) {\r\n          document.body.classList.remove('modal-scroll')\r\n          document.body.classList.remove('scrollbar-w0')\r\n        }\r\n\r\n        // we might have dismissed modal dialog using the close button inside it, so we turn off the events looking for clicks outside modal\r\n        if (this.classList.contains('modal-dismiss')) {\r\n          var eid = this.getAttribute('data-dismiss-event-id')\r\n          $(document.body).off('.aside-dismiss.' + eid)\r\n        }\r\n      })\r\n\r\n    //\r\n\r\n    // enable modal functionality for modal boxes and asides that are shown (.show) by default\r\n    $('.modal.show').modal('show')\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  Aside._HandleAside()\r\n\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Aside._jQueryInterface\r\n  $.fn[NAME].Constructor = Aside\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Aside._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Aside\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): toaster.js\r\n   Wrapper for Bootstrap's toast elements\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceToaster'\r\nconst VERSION = '2.1.0'\r\nconst DATA_KEY = 'ace.toaster'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  CLEAR: `clear${EVENT_KEY}`,\r\n  ADD: `add${EVENT_KEY}`,\r\n  ADDED: `added${EVENT_KEY}`\r\n}\r\n\r\nconst DefaultType = {\r\n  placement: 'string',\r\n  close: 'boolean',\r\n  autoremove: 'boolean',\r\n  delay: 'number',\r\n  template: 'string',\r\n  alert: 'boolean'\r\n}\r\n\r\nconst Default = {\r\n  placement: 'tr',\r\n  close: true,\r\n  autoremove: true,\r\n  delay: 2500,\r\n  template: '<div class=\"toast\"><div class=\"d-flex\"><div class=\"toast-image\"></div><div class=\"toast-main\"><div class=\"toast-header\"></div><div class=\"toast-body\"></div></div></div></div>',\r\n  alert: true\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Toaster {\r\n  constructor () {\r\n    this._lastToastId = 0\r\n    this._toast = null\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  // Public methods\r\n  add (config) {\r\n    const _config = this._getConfig(config)\r\n\r\n    const $newToast = $(_config.template)\r\n    this._toast = $newToast[0]\r\n\r\n    this._lastToastId++\r\n    $newToast.addClass('ace-toaster-item').attr({ id: `ace-toaster-item-${this._lastToastId}`, 'aria-atomic': 'true' })\r\n    if (_config.alert) {\r\n      $newToast.attr({ role: 'alert', 'aria-live': 'assertive' })\r\n    } else {\r\n      $newToast.attr({ role: 'status', 'aria-live': 'polite' })\r\n    }\r\n\r\n    const $toastHeader = $newToast.find('.toast-header')\r\n    if (_config.title) {\r\n      let title = typeof _config.title === 'function' ? _config.title.call(this._toast, _config) : _config.title\r\n      title = $(`<div class=\"toast-title\">${title}</div>`)\r\n\r\n      if (_config.titleClass) {\r\n        title.addClass(_config.titleClass)\r\n      }\r\n      $toastHeader.append(title)\r\n    }\r\n\r\n    if (_config.close) {\r\n      let close = $newToast.find('[data-dismiss=\"toast\"]')\r\n      if (close.length === 0) {\r\n        close = $('<button type=\"button\" data-dismiss=\"toast\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>')\r\n        $toastHeader.append(close)\r\n      }\r\n      close.addClass(_config.closeClass ? _config.closeClass : 'close')\r\n    }\r\n\r\n    if (_config.body) {\r\n      $newToast.find('.toast-body').append(typeof _config.body === 'function' ? _config.body.call(this._toast, _config) : _config.body)\r\n      if (_config.bodyClass) {\r\n        $newToast.find('.toast-body').addClass(_config.bodyClass)\r\n      }\r\n    }\r\n\r\n    if (_config.image) {\r\n      $newToast.find('.toast-image').append(`<img src=\"${_config.image}\" />`)\r\n    }\r\n    if (_config.icon) {\r\n      $newToast.find('.toast-image').append(_config.icon)\r\n    }\r\n    if (!(_config.image || _config.icon)) $newToast.find('.toast-image').remove()\r\n\r\n    if (_config.className) {\r\n      $newToast.addClass(_config.className)\r\n    }\r\n    if (_config.headerClass) {\r\n      $toastHeader.addClass(_config.headerClass)\r\n    }\r\n\r\n    this._addToContainer($newToast, _config)\r\n\r\n    return $newToast.get(0)\r\n  }\r\n\r\n  // add an existing toast element to our container\r\n  addEl (element, config) {\r\n    const _config = this._getConfig(config)\r\n\r\n    this._toast = element\r\n    const $existingToast = $(this._toast).addClass('ace-toaster-item')\r\n    if (!$existingToast.attr('id')) $existingToast.attr('id', `ace-toaster-item-${++this._lastToastId}`)\r\n\r\n    this._addToContainer($existingToast, _config, false)\r\n  }\r\n\r\n  // add toast element to container\r\n  _addToContainer ($toast, _config, isNewElement = true) {\r\n    // trigger ADD event before adding it to our container\r\n    const addEvent = new $.Event(Event.ADD)\r\n    addEvent.target = this._toast\r\n\r\n    $(document).trigger(addEvent)\r\n    if (addEvent.isDefaultPrevented()) {\r\n      if (isNewElement) $toast.remove()\r\n      return\r\n    }\r\n    // end of trigger\r\n\r\n    // add the toaster container to body\r\n    let container = $(`.ace-toaster-container.position-${_config.placement}`).eq(0)\r\n    if (container.length === 0) {\r\n      container = $(`<div class=\"ace-toaster-container position-${_config.placement}\"/>`).appendTo(document.body)\r\n    }\r\n    if (_config.belowNav) {\r\n      container.addClass('toaster-below-nav')\r\n    }\r\n\r\n    // add to container\r\n    if (_config.placement.indexOf('b') === 0) { // bottom placement\r\n      container.prepend($toast)\r\n    } else {\r\n      container.append($toast)\r\n    }\r\n\r\n    // without having an initial .toast element, fade-in animation isn't taking place??!!\r\n    let dummy = $('#ace-toaster-dummy-toast-1')\r\n    if (dummy.length === 0) dummy = $('<div id=\"ace-toaster-dummy-toast-1\" class=\"toast d-none invisible\"></div>').appendTo('body')\r\n    dummy.toast('show')\r\n    /// ///////////////////////////////////////////////\r\n\r\n    const _toastOptions = {}\r\n    if (_config.sticky === true || _config.autohide === false) _toastOptions.autohide = false\r\n    if (_config.animation === false) _toastOptions.animation = false\r\n    // if delay is below 30, we consider it as seconds, not milliseconds\r\n    _toastOptions.delay = _config.delay > 30 ? _config.delay : _config.delay * 1000\r\n\r\n    if (_config.width) $toast.css('width', isNaN(_config.width) ? _config.width : _config.width + 'px')\r\n\r\n    $toast\r\n      .toast(_toastOptions)\r\n      .toast('show')\r\n      .one('hidden.bs.toast.1', function () {\r\n        // show it again (invisibly with opacity = 0) and use bootstrap Collapse plugin to hide it, so that other toasts stacked below it move up smoothly\r\n        $toast.removeClass('hide').addClass('show').collapse('hide').one('hidden.bs.collapse', function () {\r\n          $toast.toast('dispose')\r\n          if (_config.autoremove) {\r\n            $toast.remove()\r\n          }\r\n        })\r\n      })\r\n\r\n    // trigger ADDED event before adding it to DOM\r\n    const addedEvent = new $.Event(Event.ADDED)\r\n    addedEvent.target = this._toast\r\n\r\n    $(document).trigger(addedEvent)\r\n  }\r\n\r\n  // hide toasts\r\n  remove (id) {\r\n    this.hide(id, true)\r\n  }\r\n\r\n  removeAll (placement = null) {\r\n    this.hideAll(placement, true)\r\n  }\r\n\r\n  // remove toast by ID or element reference\r\n  hide (id, remove = false) {\r\n    const selector = isNaN(id) ? id : '#ace-toaster-item-' + parseInt(id)\r\n    this._hideBySelector(selector, remove)\r\n  }\r\n\r\n  // remove ALL toasts\r\n  hideAll (placement = null, remove = false) {\r\n    // trigger CLEAR event before removing ALL\r\n    const clearEvent = new $.Event(Event.CLEAR) // ,  { placement: placement || 'all', remove: remove })\r\n    $(document).trigger(clearEvent, { placement: placement || 'all', remove: remove })\r\n    if (clearEvent.isDefaultPrevented()) {\r\n      return\r\n    }\r\n    // end of trigger\r\n\r\n    let selector = '.toast.ace-toaster-item'\r\n    if (placement) selector = `.ace-toaster-container.position-${placement} ${selector}`\r\n    this._hideBySelector(selector, remove)\r\n  }\r\n\r\n  _hideBySelector (selector, remove = false) {\r\n    $(selector).each(function () {\r\n      var $toast = $(this)\r\n      if ($toast.is(':visible')) {\r\n        // fade out and then remove\r\n        $toast.toast('hide')\r\n          .off('hidden.bs.toast.1')// remove the previous handler above (because it has autoremove)\r\n          .one('hidden.bs.toast.2', function () {\r\n            $toast.toast('dispose')\r\n            if (remove) $toast.remove()\r\n          })\r\n      } else {\r\n        $toast.toast('dispose')\r\n        // instantly remove if not visible\r\n        if (remove) $toast.remove()\r\n      }\r\n    })\r\n  }\r\n\r\n  // Private methods\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      config = {\r\n        ...{ autoremove: false }, // don't autoremove it\r\n        ...$(this).data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      $.aceToaster.addEl(this, config)\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  $[NAME] = new Toaster()\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Toaster._jQueryInterface\r\n  $.fn[NAME].Constructor = Toaster\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Toaster._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Toaster\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): widget.js\r\n   Widgets based on Bootstrap's cards\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\nimport Util from './util'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceWidget'\r\nconst VERSION = '2.1.0'\r\nconst DATA_KEY = 'ace.widget'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\nconst DATA_API_KEY = '.data-api'\r\n\r\nconst Event = {\r\n  SHOW: `show${EVENT_KEY}`,\r\n  HIDE: `hide${EVENT_KEY}`,\r\n  SHOWN: `show${EVENT_KEY}`,\r\n  HIDDEN: `hide${EVENT_KEY}`,\r\n  CLOSE: `close${EVENT_KEY}`,\r\n  CLOSED: `closed${EVENT_KEY}`,\r\n  EXPAND: `expand${EVENT_KEY}`,\r\n  EXPANDED: `expanded${EVENT_KEY}`,\r\n  RESTORE: `restore${EVENT_KEY}`,\r\n  RESTORED: `restored${EVENT_KEY}`,\r\n  // RELOADED: `reloaded${EVENT_KEY}`,\r\n  RELOAD: `reload${EVENT_KEY}`,\r\n  CLICK_DATA_API: `click${EVENT_KEY}${DATA_API_KEY}`\r\n}\r\nconst Selector = {\r\n  DATA_ACTION: '.card-toolbar a[data-action]'\r\n}\r\n\r\n/**\r\nconst DefaultType = {\r\n  loadingHtml: 'string'\r\n}\r\n\r\nconst Default = {\r\n  loadingHtml: '<i class=\"bs-card-loading-icon fa fa-spinner fa-spin fa-2x text-white\"></i>'\r\n}\r\n*/\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass Widget {\r\n  constructor (element, config) {\r\n    this._config = this._getConfig(config)\r\n    this._element = element\r\n    this.$box = $(element)\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  /**\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n  */\r\n\r\n  reload () {\r\n    const ev = new $.Event(Event.RELOAD)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this.startLoading()\r\n  }\r\n\r\n  startLoading (loadingHtml = '<i class=\"bs-card-loading-icon fa fa-spinner fa-spin fa-2x text-white\"></i>') {\r\n    this.$box.append('<div class=\"bs-card-loading-overlay\">' + loadingHtml + '</div>')\r\n  }\r\n\r\n  stopLoading () {\r\n    this.$box.find('.bs-card-loading-overlay').remove()\r\n  }\r\n\r\n  closeFast () {\r\n    const ev = new $.Event(Event.CLOSE)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this.$box.trigger(Event.CLOSED).remove()\r\n  }\r\n\r\n  close () {\r\n    const ev = new $.Event(Event.CLOSE)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    var $box = this.$box\r\n\r\n    var _closeComplete = function () {\r\n      if (this.hasClass('card-expand')) this.next('.card-expanded-placeholder').remove()// remove the placeholder\r\n      this.trigger(Event.CLOSED).remove()\r\n    }\r\n\r\n    if (Util.isReducedMotion()) _closeComplete.call($box)\r\n    else {\r\n      $box.addClass('fade').on('transitionend.close', function (e) {\r\n        if (e.target !== this) return// because transitionend might fire for children elements (like animated toolbar buttons)\r\n        _closeComplete.call($box)\r\n      })\r\n    }\r\n  }\r\n\r\n  toggle (type) {\r\n    var $box = this.$box\r\n    var $body = $box.find('.card-body').eq(0)\r\n\r\n    var action = (type && typeof type === 'string' && type.match(/show|hide/)[0]) || ($body.is(':visible') ? 'hide' : 'show')\r\n\r\n    var eventName = action === 'hide' ? 'hide' : 'show'\r\n    const ev = new $.Event(eventName + EVENT_KEY)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    this._toggleIcon(type && typeof type === 'object' && type instanceof window.HTMLElement ? type : null, action)\r\n\r\n    ///\r\n\r\n    if (action === 'hide') $body.addClass('show')// .show class required for bs collapse plugin\r\n\r\n    var eventCompleteName = action === 'hide' ? 'hidden' : 'shown'\r\n    $body.collapse(action).on(eventCompleteName + '.bs.collapse', function () {\r\n      $box.trigger(eventCompleteName + EVENT_KEY)\r\n    })\r\n  }\r\n\r\n  hide () {\r\n    this.toggle('hide')\r\n  }\r\n\r\n  show () {\r\n    this.toggle('show')\r\n  }\r\n\r\n  toggleFast (type) {\r\n    var $body = this.$box.find('.card-body').eq(0)\r\n    var action = (type && typeof type === 'string' && type.match(/show|hide/)[0]) || ($body.is(':visible') ? 'hide' : 'show')\r\n\r\n    var eventName = action === 'hide' ? 'hide' : 'show'\r\n    const ev = new $.Event(eventName + EVENT_KEY)\r\n    this.$box.trigger(ev)\r\n    if (ev.isDefaultPrevented()) return\r\n\r\n    $body.addClass('collapse')\r\n    if (action === 'hide') $body.removeClass('show')\r\n    else $body.addClass('show')\r\n\r\n    this._toggleIcon(type && typeof type === 'object' && type instanceof window.HTMLElement ? type : null, action)\r\n\r\n    var eventCompleteName = action === 'hide' ? 'hidden' : 'shown'\r\n    this.$box.trigger(eventCompleteName + EVENT_KEY)\r\n  }\r\n\r\n  hideFast () {\r\n    this.toggleFast('hide')\r\n  }\r\n\r\n  showFast () {\r\n    this.toggleFast('show')\r\n  }\r\n\r\n  _toggleIcon (button, action) {\r\n    if (!button) {\r\n      button = this.$box.find('a[data-action=toggle]').get(0)\r\n    }\r\n\r\n    //\r\n    if (button) {\r\n      if (action === 'show') {\r\n        button.classList.remove('collapsed')\r\n      } else {\r\n        button.classList.add('collapsed')\r\n      }\r\n    }\r\n  }\r\n\r\n  // fullscreen\r\n  expand (expand, animate) {\r\n    var button = this.$box.find('> .card-header a[data-action=expand]')\r\n\r\n    var $expand = expand === true || !this.$box.hasClass('card-expand')\r\n    animate = !((animate === false || Util.isReducedMotion()))// default is true\r\n\r\n    var $box = this.$box\r\n    var box = $box[0]\r\n\r\n    if ($expand) {\r\n      const ev = new $.Event(Event.EXPAND)\r\n      this.$box.trigger(ev)\r\n      if (ev.isDefaultPrevented()) return\r\n\r\n      button.addClass('active')\r\n\r\n      if (animate) {\r\n        var rect = box.getBoundingClientRect()\r\n        box.setAttribute('style', `left: ${rect.left}px; top: ${rect.top}px; width: ${rect.width}px; height: ${rect.height}px;`)\r\n        box.classList.add('card-expanding')\r\n\r\n        $box.on('transitionend.expanding', function (e) {\r\n          if (e.target !== this) return// because transitionend might fire for children elements (like animated icons of toolbar)\r\n\r\n          $box.off('.expanding')\r\n            .removeClass('card-expanding')\r\n            .trigger(Event.EXPANDED)\r\n        })\r\n\r\n        var placeholder = document.createElement('DIV')\r\n        placeholder.classList.add('card-expanded-placeholder')\r\n        placeholder.setAttribute('style', `width: ${rect.width}px; height: ${rect.height}px;`)\r\n        box.parentNode.insertBefore(placeholder, box.nextSibling)// insert after\r\n\r\n        box.offsetHeight// reflow...to force browser apply css/dom changes\r\n        box.removeAttribute('style')\r\n      }\r\n\r\n      box.classList.add('card-expand')\r\n      if (!animate) $box.trigger(Event.EXPANDED)\r\n    } else { // restore\r\n      const ev = new $.Event(Event.RESTORE)\r\n      this.$box.trigger(ev)\r\n      if (ev.isDefaultPrevented()) return\r\n\r\n      button.removeClass('active')\r\n\r\n      animate = animate && box.nextElementSibling !== null && box.nextElementSibling.classList.contains('card-expanded-placeholder')\r\n      if (animate) {\r\n        var rect1 = box.nextElementSibling.getBoundingClientRect()\r\n\r\n        box.classList.add('card-expanding')\r\n        box.setAttribute('style', `left: ${rect1.left}px; top: ${rect1.top}px; width: ${rect1.width}px; height: ${rect1.height}px;`)\r\n\r\n        $box.on('transitionend.restoring', function (e) {\r\n          if (e.target !== this) return// because transitionend might fire for children elements (like animated icons of toolbar)\r\n          $box.next().remove()\r\n          $box.off('.restoring')\r\n            .removeClass('card-expanding')\r\n            .attr('style', '')\r\n            .trigger(Event.RESTORED)\r\n        })\r\n      }\r\n\r\n      box.classList.remove('card-expand')\r\n      if (!animate) $box.trigger(Event.RESTORED)\r\n    }\r\n  }// function expand\r\n\r\n  expandFast () {\r\n    return this.expand(true, false)\r\n  }\r\n\r\n  restore () {\r\n    return this.expand(false)\r\n  }\r\n\r\n  restoreFast () {\r\n    return this.expand(false, false)\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      // ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config, value) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        // ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Widget(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config](value)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Data Api implementation\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\n$(document).on(Event.CLICK_DATA_API, `${Selector.DATA_ACTION}`, function (event) {\r\n  if (event.currentTarget.tagName === 'A') {\r\n    event.preventDefault()\r\n  }\r\n\r\n  const $actionBtn = $(this)\r\n  const $box = $actionBtn.closest('.card')\r\n  if ($box.length === 0) return\r\n\r\n  const $action = $actionBtn.data('action')\r\n  $box.trigger(event = $.Event($action + EVENT_KEY))\r\n  if (event.isDefaultPrevented()) return\r\n\r\n  $box.aceWidget($action, this)\r\n})\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Widget._jQueryInterface\r\n  $.fn[NAME].Constructor = Widget\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Widget._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Widget\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): fileinput.js\r\n * Custom styling for default browser file input\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nconst NAME = 'aceFileInput'\r\nconst VERSION = '2.1.0'\r\nconst DATA_KEY = 'ace.file'\r\nconst EVENT_KEY = `.${DATA_KEY}`\r\n\r\nconst Event = {\r\n  // PREVIEW: `preview${EVENT_KEY}`,\r\n  INVALID: `invalid${EVENT_KEY}`,\r\n  RESET: `reset${EVENT_KEY}`,\r\n  PREVIEW_FAILED: `preview_failed${EVENT_KEY}`\r\n}\r\n\r\nconst Default = {\r\n  style: false,\r\n  persistent: false,\r\n\r\n  container: 'border-1 brc-grey-l2 brc-h-warning-m1',\r\n\r\n  btnChooseClass: 'bgc-default text-white px-2 pt-2 text-90 my-1px mr-1px',\r\n  btnChangeClass: 'bgc-blue text-white px-2 pt-2 text-90 my-1px mr-1px',\r\n\r\n  btnChooseText: 'Choose',\r\n  btnChangeText: 'Change',\r\n\r\n  placeholderClass: 'text-grey-m2 px-1',\r\n  placeholderText: 'No file chosen',\r\n  placeholderIcon: '<i class=\"fa fa-upload bgc-grey-m1 text-white w-4 py-2 text-center\"></i>',\r\n\r\n  iconClass: 'mx-2px',\r\n\r\n  reset: '',\r\n  resetText: '',\r\n  resetIcon: '<i class=\"fa fa-times\"></i>',\r\n\r\n  droppable: false,\r\n  thumbnail: false, // large, fit, small\r\n  previewImage: true,\r\n\r\n  allowExt: null,\r\n  denyExt: null,\r\n  allowMime: null,\r\n  denyMime: null,\r\n  maxSize: null,\r\n\r\n  previewSize: false,\r\n  previewWidth: false,\r\n  previewHeight: false,\r\n\r\n  // callbacks\r\n  beforeChange: null,\r\n\r\n  fileIcons: {\r\n    file: '<i class=\"fa fa-file bgc-grey-m1 text-white w-4 py-2 text-center\"></i>',\r\n    image: '<i class=\"far fa-image bgc-purple-m1 text-white w-4 py-2 text-center\"></i>',\r\n    video: '<i class=\"fas fa-video bgc-success-m1 text-white w-4 py-2 text-center\"></i>',\r\n    audio: '<i class=\"fas fa-music bgc-pink-m1 text-white w-4 py-2 text-center\"></i>',\r\n    document: '<i class=\"far fa-file-alt bgc-default-d1 text-white w-4 py-2 text-center\"></i>',\r\n    archive: '<i class=\"far fa-file-archive bgc-warning text-white w-4 py-2 text-center\"></i>',\r\n    code: '<i class=\"fas fa-code file-code bgc-secondary text-white w-4 py-2 text-center\"></i>'\r\n  }\r\n}\r\n\r\nconst DefaultType = {\r\n  persistent: 'boolean',\r\n\r\n  style: '(boolean|string)',\r\n\r\n  btn: '(string|undefined)',\r\n  container: '(string|undefined)',\r\n  icon: '(string|undefined)',\r\n\r\n  placeholderText: '(string|undefined)',\r\n  placeholderIcon: '(string|undefined)',\r\n  btnChooseText: '(string|undefined)',\r\n  btnChangeText: '(string|undefined)',\r\n\r\n  reset: '(string|undefined)',\r\n  resetText: '(string|undefined)',\r\n  resetIcon: '(string|undefined)',\r\n\r\n  droppable: 'boolean',\r\n  thumbnail: '(boolean|string)',\r\n  previewImage: 'boolean',\r\n\r\n  allowExt: '(string|null)',\r\n  denyExt: '(string|null)',\r\n  allowMime: '(string|null)',\r\n  denyMime: '(string|null)',\r\n  maxSize: '(number|null)',\r\n\r\n  previewSize: '(boolean|number)',\r\n  previewWidth: '(boolean|number)',\r\n  previewHeight: '(boolean|number)',\r\n\r\n  fileIcons: '(object|null)',\r\n\r\n  // callbacks\r\n  beforeChange: '(function|null)'\r\n}\r\n\r\nconst PreviewError = {\r\n  FILE_LOAD_FAILED: 1,\r\n  IMAGE_LOAD_FAILED: 2,\r\n  THUMBNAIL_FAILED: 3\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Class Definition\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nclass FileInput {\r\n  constructor (element, config) {\r\n    this.settings = this._getConfig(config)\r\n    this.settings.fileIcons = $.extend({}, Default.fileIcons, this.settings.fileIcons)\r\n\r\n    this.fileList = []\r\n    this.selectMethod = ''\r\n\r\n    this._hasMultiple = 'multiple' in document.createElement('INPUT')\r\n    this._hasFileList = 'FileList' in window// file list enabled in modern browsers\r\n    this._hasFileReader = 'FileReader' in window\r\n    this._hasFile = 'File' in window\r\n\r\n    this.element = element\r\n    this.$element = $(element)\r\n    this.disabled = false\r\n    this.canReset = true\r\n\r\n    this.$element\r\n      .off('change.aceInnerCall')\r\n      .on('change.aceInnerCall', (e, aceInnerCall) => {\r\n        if (this.disabled) return\r\n\r\n        if (aceInnerCall === true) return// this change Event is called from within this class (_enableFileDrop) and extra checkings are taken care of there\r\n        return this._handleOnChange()\r\n      })\r\n\r\n    var parentLabel = this.$element.closest('label').addClass('d-block')\r\n    var tagName = parentLabel.length === 0 ? 'label' : 'span'// if not inside a \"LABEL\" tag, use \"LABEL\" tag, otherwise use \"SPAN\"\r\n    this.$element.wrap('<' + tagName + ' class=\"ace-file-input\" />')\r\n\r\n    this.$wrap = this.$element.parent()\r\n\r\n    this._applySettings()\r\n  }\r\n\r\n  // Getters\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  _getConfig (config, Default) {\r\n    config = {\r\n      ...Default,\r\n      ...config\r\n    }\r\n    bootstrap.Util.typeCheckConfig(NAME, config, DefaultType)\r\n    return config\r\n  }\r\n\r\n  _applySettings () {\r\n    this._isMulti = this.$element.attr('multiple') && this._hasMultiple\r\n    this._isDropStyle = this.settings.style === 'drop'\r\n\r\n    if (this._isDropStyle) {\r\n      if (!this.settings.thumbnail) this.settings.thumbnail = 'small'\r\n      this.$wrap.addClass('ace-file-multiple')\r\n    } else {\r\n      this.$wrap.removeClass('ace-file-multiple')\r\n    }\r\n\r\n    this.$wrap.find('*:not(input[type=file])').remove()// remove all except our input, good for when changing settings\r\n\r\n    var placeholder = `<div class=\"ace-file-placeholder h-100\">\r\n<span class=\"ace-file-icon align-self-center ${this.settings.iconClass || ''}\">\r\n  ${this.settings.placeholderIcon || ''}\r\n</span>\r\n<span class=\"ace-file-name ${this.settings.placeholderClass || ''}\">\r\n  ${this.settings.placeholderText}\r\n</span>` + (!this._isDropStyle ? `<span class=\"ace-file-btn ml-auto ${this.settings.btnChooseClass || ''}\">${this.settings.btnChooseText}</span>` : '') + '</div>'\r\n\r\n    this.$element.after(`<div class=\"ace-file-container d-flex flex-column ${this.settings.container || ''}\">${placeholder}</div>`)\r\n\r\n    this.$container = this.$element.next()\r\n\r\n    if (this.settings.reset !== false) {\r\n      var remove = this.settings.reset.length > 0 ? this.settings.reset : (\r\n        !this._isDropStyle ? 'position-rc text-danger mr-n25 w-3 radius-2 border-1 brc-h-danger-m4 text-center'\r\n          : 'position-tr bgc-white text-danger mt-n25 mr-n25 w-4 h-4 text-center pt-2px radius-round border-2 brc-grey-m4 brc-h-danger-m3'\r\n\r\n      )\r\n\r\n      var btn = $(`<a title=\"${this.settings.resetText || ''}\" class=\"remove ${remove}\" href=\"#\">${this.settings.resetIcon}</a>`).appendTo(this.$wrap)\r\n\r\n      if (this.settings.resetText) btn.tooltip({ container: 'body' })\r\n\r\n      btn.on('click', (e) => {\r\n        e.preventDefault()\r\n        if (!this.canReset) return false\r\n\r\n        var event\r\n        this.$element.trigger(event = new $.Event(Event.RESET))\r\n        if (event.isDefaultPrevented()) return false\r\n\r\n        this.resetInput()\r\n        this.stopLoading()\r\n\r\n        return false\r\n      })\r\n    }\r\n\r\n    if (this.settings.droppable && this._hasFileList) {\r\n      this._enableFileDrop()\r\n    }\r\n  }\r\n\r\n  showFileList ($files, innerCall) {\r\n    const files = $files || this.fileList\r\n    if (!files || !files.length) return\r\n\r\n    /// ///////////////////////////////////////////////////////////////\r\n    if (!this.settings.persistent) {\r\n      this.resetInputUI()\r\n    }\r\n\r\n    this.$container.addClass('selected')\r\n    this.$container.find('.ace-file-placeholder').addClass('d-none')\r\n\r\n    for (let i = 0; i < files.length; i++) {\r\n      let filename = ''; let format = false\r\n      if (typeof files[i] === 'string') filename = files[i]\r\n      else if (this._hasFile && files[i] instanceof window.File) filename = $.trim(files[i].name)\r\n      else if (files[i] instanceof Object && Object.prototype.hasOwnProperty.call(files[i], 'name')) {\r\n        // format & name specified by user (pre-displaying name, etc)\r\n        filename = files[i].name\r\n        if (Object.prototype.hasOwnProperty.call(files[i], 'type')) format = files[i].type\r\n        if (Object.prototype.hasOwnProperty.call(files[i], 'path')) files[i].path = files[i].name\r\n      } else continue\r\n\r\n      let index = filename.lastIndexOf('\\\\') + 1\r\n      if (index === 0) index = filename.lastIndexOf('/') + 1\r\n      filename = filename.substr(index)\r\n\r\n      if (!format) {\r\n        if ((/\\.(jpe?g|png|gif|svg|bmp|tiff?|webp)$/i).test(filename)) {\r\n          format = 'image'\r\n        } else if ((/\\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i).test(filename)) {\r\n          format = 'video'\r\n        } else if ((/\\.(mp3|ogg|wav|wma|amr|aac)$/i).test(filename)) {\r\n          format = 'audio'\r\n        } else if ((/\\.(pdf|docx?|rtf|txt)$/i).test(filename)) {\r\n          format = 'document'\r\n        } else if ((/\\.(zip|rar|tar)$/i).test(filename)) {\r\n          format = 'archive'\r\n        } else if ((/\\.(html?|js|s?css|less|php|py|aspx?|rb|c|cpp|java|cs)$/i).test(filename)) {\r\n          format = 'code'\r\n        } else format = 'file'\r\n      }\r\n\r\n      var fileIcon = this.settings.fileIcons[format]\r\n\r\n      var className = 'ace-file-item d-flex h-100'\r\n      if (this.settings.thumbnail) className += ` ${this.settings.thumbnail !== 'small' ? 'flex-column my-2px py-2' : 'mx-1 py-1'} align-items-center`\r\n\r\n      var label = $(`<div class=\"${className}\">\r\n<span class=\"ace-file-icon align-self-center ${this.settings.iconClass || ''}\">${fileIcon}</span>\r\n<span class=\"ace-file-name ${this.settings.thumbnail && this.settings.thumbnail !== 'small' ? 'px-2' : 'px-1'}\">${filename}</span>` +\r\n      (!this._isDropStyle ? `<span class=\"ace-file-btn ml-auto ${this.settings.btnChangeClass || ''}\">${this.settings.btnChangeText}</span>` : '') +\r\n      '</div>').appendTo(this.$container)\r\n\r\n      var type = (innerCall === true && this._hasFile && files[i] instanceof window.File) ? $.trim(files[i].type) : ''\r\n      var canPreview = this.settings.previewImage !== false && this._hasFileReader && this.settings.thumbnail\t\t\t\t\t&&\r\n\t\t\t\t\t((type.length > 0 && type.match('image')) || (type.length === 0 && format === 'image'))// the second one is for older Android's default browser which gives an empty text for file.type\r\n      if (canPreview) {\r\n        $.when(this._previewImage(files[i], label))\r\n        // .done( ()  => {\r\n        // if( this.settings.thumbnail === 'small' ) label.find('.ace-file-icon').addClass('thumbnail-img');\r\n        // })\r\n          .fail((result) => {\r\n            this.$element.trigger(Event.PREVIEW_FAILED, { filename: filename, code: result.code })\r\n          })\r\n      }\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  resetInput () {\r\n    this.resetInputUI()\r\n    this.resetInputField()\r\n    this.resetInputData()\r\n\r\n    this.$container.removeClass('selected')\r\n  }\r\n\r\n  resetInputUI () {\r\n    this.$container.find('div:not(.ace-file-placeholder)').remove()\r\n    this.$container.find('.ace-file-placeholder').removeClass('d-none')\r\n\r\n    // this.resetInputData();\r\n  }\r\n\r\n  resetInputField () {\r\n    // http://stackoverflow.com/questions/1043957/clearing-input-type-file-using-jquery/13351234#13351234\r\n    this.$element.wrap('<form>').parent().each((index, formEl) => {\r\n      formEl.reset()\r\n    })\r\n    this.$element.unwrap()\r\n\r\n    // when reset is called on this temporary inner form\r\n    // only **IE10** triggers 'reset' on the outer form as well\r\n    // and as we have mentioned to reset input on outer form reset\r\n    // it causes infinite recusrsion by coming back to resetInputField\r\n    // thus calling reset again and again and again\r\n    // so because when \"reset\" button of outer form is hit, file input is automatically reset\r\n    // we just resetInputUI to avoid recursion\r\n  }\r\n\r\n  resetInputData () {\r\n    this.fileList = []\r\n    this.selectMethod = ''\r\n\r\n    if (this.$element.data('ace_input_files')) {\r\n      this.$element.removeData('ace_input_files')\r\n      this.$element.removeData('ace_input_method')\r\n    }\r\n  }\r\n\r\n  enableReset () {\r\n    this.canReset = true\r\n  }\r\n\r\n  disableReset () {\r\n    this.canReset = false\r\n  }\r\n\r\n  disable () {\r\n    this.disabled = true\r\n    this.$element.attr('disabled', 'disabled').addClass('disabled')\r\n  }\r\n\r\n  enable () {\r\n    this.disabled = false\r\n    this.$element.removeAttr('disabled').removeClass('disabled')\r\n  }\r\n\r\n  files () {\r\n    return this.fileList.length > 0 ? this.fileList : null\r\n  }\r\n\r\n  method () {\r\n    return this.selectMethod\r\n  }\r\n\r\n  updateSettings (newSettings) {\r\n    this.settings = $.extend({}, this.settings, newSettings)\r\n    this._applySettings()\r\n  }\r\n\r\n  startLoading (loadingHtml = '<i class=\"overlay-content fa fa-spin fa-spinner text-white fa-2x\"></i>') {\r\n    var loader = this.$wrap.find('.ace-file-overlay')\r\n    if (loader.length === 0) {\r\n      loader = $('<div class=\"ace-file-overlay text-center\"></div>').appendTo(this.$wrap)\r\n      loader.on('click', (e) => {\r\n        e.stopImmediatePropagation()\r\n        e.preventDefault()\r\n        return false\r\n      })\r\n\r\n      this.element.setAttribute('readonly', 'true')// for IE\r\n    }\r\n    loader.empty().append(loadingHtml)\r\n  }\r\n\r\n  stopLoading () {\r\n    this.$wrap.find('.ace-file-overlay').remove()\r\n    this.element.removeAttribute('readonly')\r\n  }\r\n\r\n  _enableFileDrop () {\r\n    var dropbox = this.$element.parent()\r\n\r\n    dropbox\r\n      .off('dragenter')\r\n      .on('dragenter', (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      })\r\n      .off('dragover')\r\n      .on('dragover', (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n      })\r\n      .off('drop')\r\n      .on('drop', (e) => {\r\n        e.preventDefault()\r\n        e.stopPropagation()\r\n\r\n        if (this.disabled) return\r\n\r\n        var dt = e.originalEvent.dataTransfer\r\n        var tmpFileList = dt.files\r\n        if (!this._isMulti && tmpFileList.length > 1) { // single file upload, but dragged multiple files\r\n          var tmpfiles = []\r\n          tmpfiles.push(tmpFileList[0])\r\n          tmpFileList = tmpfiles// keep only first file\r\n        }\r\n\r\n        tmpFileList = this._processFiles(tmpFileList, true)// true means files have been dropped\r\n        if (tmpFileList === false) return false\r\n\r\n        this.$element.data('ace_input_method', 'drop')\r\n        this.selectMethod = 'drop'\r\n\r\n        // const fileArray = [...tmpFileList]\r\n        var fileArray = []\r\n        for (var f = 0; f < tmpFileList.length; f++) fileArray.push(tmpFileList[f])\r\n\r\n        if (this.settings.persistent) {\r\n          this.fileList = this.fileList.concat(fileArray)\r\n        } else {\r\n          this.fileList = fileArray\r\n        }\r\n        this.$element.data('ace_input_files', this.fileList)\r\n        this.$element.data('ace_input_method', this.selectMethod)\r\n\r\n        this.showFileList(fileArray, true)\r\n\r\n        this.$element.triggerHandler('change', [true])// true means aceInnerCall\r\n        return true\r\n      })\r\n  }\r\n\r\n  /// ///////////\r\n\r\n  _handleOnChange () {\r\n    let tmpFileList = this.element.files || [this.element.value]// make it an array\r\n\r\n    tmpFileList = this._processFiles(tmpFileList, false)// false means files have been selected, not dropped\r\n    if (tmpFileList === false) return false\r\n\r\n    // const fileArray = [...tmpFileList];\r\n    var fileArray = []\r\n    for (var f = 0; f < tmpFileList.length; f++) fileArray.push(tmpFileList[f])\r\n\r\n    this.selectMethod = 'select'\r\n\r\n    if (this.settings.persistent) {\r\n      this.fileList = this.fileList.concat(fileArray)\r\n    } else {\r\n      this.fileList = fileArray\r\n    }\r\n\r\n    this.$element.data('ace_input_files', this.fileList)\r\n    this.$element.data('ace_input_method', this.selectMethod)\r\n\r\n    this.showFileList(fileArray, true)\r\n\r\n    return true\r\n  }\r\n\r\n  _previewImage (file, label) {\r\n    var $icon = label.find('.ace-file-icon')// it should be out of onload, otherwise all onloads may target the same $icon because of delays\r\n    $icon.empty()\r\n\r\n    var deferred = new $.Deferred()\r\n\r\n    const getImage = function (src, $file) {\r\n      $icon.prepend(\"<img style='display: none;' />\")\r\n      var img = $icon.find('img:last').get(0)\r\n\r\n      $(img).one('load', function () {\r\n        imgLoaded(img, $file)\r\n      }).one('error', function () {\r\n        imgFailed(img)\r\n      })\r\n\r\n      img.src = src\r\n    }\r\n    const This = this\r\n    const imgLoaded = function (img, $file) { // if image loaded successfully\r\n      var size = This.settings.previewSize\r\n\r\n      if (!size) {\r\n        if (This.settings.previewWidth || This.settings.previewHeight) {\r\n          size = { previewWidth: This.settings.previewWidth, previewHeight: This.settings.previewHeight }\r\n        } else {\r\n          size = 50\r\n          if (This.settings.thumbnail === 'large') size = 150\r\n        }\r\n      }\r\n      if (This.settings.thumbnail === 'fit') size = $icon.parent().width()\r\n      else if (typeof size === 'number') size = parseInt(Math.min(size, $icon.parent().width()))\r\n\r\n      var svg = /svg/.test($file.type)\r\n      var thumb = !svg ? This._getThumbnail(img, size, $file.type) : false//, file.type;\r\n      if (thumb === null) {\r\n        // if making thumbnail fails\r\n        $(This).remove()\r\n        deferred.reject({ code: PreviewError.THUMBNAIL_FAILED })\r\n        return\r\n      }\r\n\r\n      var showPreview = true\r\n      /**\r\n      // add width/height info to \"file\" and trigger preview finished event for each image!\r\n      if ($file && $file instanceof window.File) {\r\n        if (thumb) {\r\n          $file.width = thumb.width\r\n          $file.height = thumb.height\r\n        }\r\n\r\n        var event\r\n        This.$element.trigger(event = new $.Event(Event.PREVIEW), { file: $file })\r\n        if (event.isDefaultPrevented()) showPreview = false\r\n      }\r\n      */\r\n\r\n      if (showPreview) {\r\n        if (svg) {\r\n          if (This.settings.thumbnail === 'small') {\r\n            $(img).css({ width: size })\r\n          } else {\r\n            if (img.width > img.height) { $(img).css({ width: size }) } else $(img).css({ height: size })\r\n          }\r\n        } else {\r\n          var w = thumb.previewWidth; var h = thumb.previewHeight\r\n\r\n          if (This.settings.thumbnail === 'small') { w = h = parseInt(Math.max(w, h)) } else $icon.addClass('thumbnail-large')\r\n\r\n          $(img).css({ background: 'url(' + thumb.src + ') center no-repeat', width: w, height: h })\r\n            .data('src', thumb.src)\r\n            .attr({ src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==' })\r\n        }\r\n\r\n        img.style.display = ''\r\n      }\r\n\r\n      /// ////////////////\r\n      deferred.resolve()\r\n    }\r\n    var imgFailed = function () {\r\n      // for example when a file has image extenstion, but format is something else\r\n      $icon.find('img').remove()\r\n      deferred.reject({ code: PreviewError.IMAGE_LOAD_FAILED })\r\n    }\r\n\r\n    if (this._hasFile && file instanceof window.File) {\r\n      var reader = new window.FileReader()\r\n      reader.onload = function (e) {\r\n        getImage(e.target.result, file)\r\n      }\r\n      reader.onerror = function (e) {\r\n        deferred.reject({ code: PreviewError.FILE_LOAD_FAILED })\r\n      }\r\n      reader.readAsDataURL(file)\r\n    } else {\r\n      if (file instanceof Object && Object.prototype.hasOwnProperty.call(file, 'path')) {\r\n        getImage(file.path, null)// file is a file name (path) --- this is used to pre-show user-selected image\r\n      }\r\n    }\r\n\r\n    return deferred.promise()\r\n  }\r\n\r\n  /// //////////\r\n\r\n  _getThumbnail (img, size, type) {\r\n    var imgWidth = img.width; var imgHeight = img.height\r\n\r\n    //* *IE10** is not giving correct width using img.width so we use $(img).width()\r\n    imgWidth = imgWidth > 0 ? imgWidth : $(img).width()\r\n    imgHeight = imgHeight > 0 ? imgHeight : $(img).height()\r\n\r\n    var previewSize = false; var previewHeight = false; var previewWidth = false\r\n    if (typeof size === 'number') previewSize = size\r\n    else if (size instanceof Object) {\r\n      if (size.previewWidth && !size.previewHeight) previewWidth = size.previewWidth\r\n      else if (size.previewHeight && !size.previewWidth) previewHeight = size.previewHeight\r\n      else if (size.previewWidth && size.previewHeight) {\r\n        previewWidth = size.previewWidth\r\n        previewHeight = size.previewHeight\r\n      }\r\n    }\r\n\r\n    if (previewSize) {\r\n      if (imgWidth > imgHeight) {\r\n        previewWidth = previewSize\r\n        previewHeight = parseInt(imgHeight / imgWidth * previewWidth)\r\n      } else {\r\n        previewHeight = previewSize\r\n        previewWidth = parseInt(imgWidth / imgHeight * previewHeight)\r\n      }\r\n    } else {\r\n      if (!previewHeight && previewWidth) {\r\n        previewHeight = parseInt(imgHeight / imgWidth * previewWidth)\r\n      } else if (previewHeight && !previewWidth) {\r\n        previewWidth = parseInt(imgWidth / imgHeight * previewHeight)\r\n      }\r\n    }\r\n\r\n    var dataURL\r\n    try {\r\n      var canvas = document.createElement('canvas')\r\n      canvas.width = previewWidth; canvas.height = previewHeight\r\n      var context = canvas.getContext('2d')\r\n      context.imageSmoothingQuality = 'medium'\r\n      context.drawImage(img, 0, 0, imgWidth, imgHeight, 0, 0, previewWidth, previewHeight)\r\n      dataURL = canvas.toDataURL(type, 0.8)\r\n      // dataURL = canvas.toDataURL();\r\n    } catch (e) {\r\n      dataURL = null\r\n    }\r\n    if (!dataURL) return null\r\n\r\n    // there was only one image that failed in firefox completely randomly! so let's double check things\r\n    if (!(/^data:image\\/(png|jpe?g|gif|svg);base64,[0-9A-Za-z+/=]+$/.test(dataURL))) dataURL = null\r\n    if (!dataURL) return null\r\n\r\n    return { src: dataURL, previewWidth: previewWidth, previewHeight: previewHeight, width: imgWidth, height: imgHeight }\r\n  }\r\n\r\n  _processFiles (tmpFileList, dropped) {\r\n    var ret = this._checkFileList(tmpFileList, dropped)\r\n    if (ret === -1) {\r\n      this.resetInput()\r\n      return false\r\n    }\r\n    if (!ret || ret.length === 0) {\r\n      if (!this.$element.data('ace_input_files')) this.resetInput()\r\n      // if nothing selected before, reset because of the newly unacceptable (ret=false||length=0) selection\r\n      // otherwise leave the previous selection intact?!!!\r\n      return false\r\n    }\r\n    if (ret instanceof Array || (this._hasFileList && ret instanceof window.FileList)) tmpFileList = ret\r\n\r\n    ret = true\r\n\r\n    if (this.settings.beforeChange) ret = this.settings.beforeChange.call(this.element, tmpFileList, dropped)\r\n    if (ret === -1) {\r\n      this.resetInput()\r\n      return false\r\n    }\r\n    if (!ret || ret.length === 0) {\r\n      if (!this.$element.data('ace_input_files')) this.resetInput()\r\n      return false\r\n    }\r\n\r\n    // inside beforeChange you can return a modified File Array as result\r\n    if (ret instanceof Array || (this._hasFileList && ret instanceof window.FileList)) tmpFileList = ret\r\n\r\n    return tmpFileList\r\n  }\r\n\r\n  /// ///////\r\n\r\n  _checkFileList (files, dropped) {\r\n    var allowExt = this._getExtRegex(this.settings.allowExt)\r\n\r\n    var denyExt = this._getExtRegex(this.settings.denyExt)\r\n\r\n    var allowMime = this._getMimeRegex(this.settings.allowMime)\r\n\r\n    var denyMime = this._getMimeRegex(this.settings.denyMime)\r\n\r\n    var maxSize = this.settings.maxSize || false\r\n\r\n    if (!(allowExt || denyExt || allowMime || denyMime || maxSize)) return true// no checking required\r\n\r\n    var safeFiles = []\r\n    var errorList = {}\r\n    // for (const file of files) {\r\n    for (var i = 0; i < files.length; i++) {\r\n      var file = files[i]\r\n      // file is either a string(file name) or a File object\r\n      var filename = !this._hasFile ? file : file.name\r\n      if (allowExt && !allowExt.test(filename)) {\r\n        // extension not matching whitelist, so drop it\r\n        if (!('ext' in errorList)) errorList.ext = []\r\n        errorList.ext.push(filename)\r\n\r\n        continue\r\n      } else if (denyExt && denyExt.test(filename)) {\r\n        // extension is matching blacklist, so drop it\r\n        if (!('ext' in errorList)) errorList.ext = []\r\n        errorList.ext.push(filename)\r\n\r\n        continue\r\n      }\r\n\r\n      var type\r\n      if (!this._hasFile) {\r\n        // in browsers that don't support FileReader API\r\n        safeFiles.push(file)\r\n        continue\r\n      } else if ((type = $.trim(file.type)).length > 0) {\r\n        // there is a mimetype for file so let's check against are rules\r\n        if (allowMime && !allowMime.test(type)) {\r\n          // mimeType is not matching whitelist, so drop it\r\n          if (!('mime' in errorList)) errorList.mime = []\r\n          errorList.mime.push(filename)\r\n          continue\r\n        } else if (denyMime && denyMime.test(type)) {\r\n          // mimeType is matching blacklist, so drop it\r\n          if (!('mime' in errorList)) errorList.mime = []\r\n          errorList.mime.push(filename)\r\n          continue\r\n        }\r\n      }\r\n\r\n      if (maxSize && file.size > maxSize) {\r\n        // file size is not acceptable\r\n        if (!('size' in errorList)) errorList.size = []\r\n        errorList.size.push(filename)\r\n        continue\r\n      }\r\n\r\n      safeFiles.push(file)\r\n    }\r\n\r\n    if (safeFiles.length === files.length) return files// return original file list if all are valid\r\n\r\n    /// //////\r\n    var errorCount = { ext: 0, mime: 0, size: 0 }\r\n    if ('ext' in errorList) errorCount.ext = errorList.ext.length\r\n    if ('mime' in errorList) errorCount.mime = errorList.mime.length\r\n    if ('size' in errorList) errorCount.size = errorList.size.length\r\n\r\n    var event\r\n    this.$element.trigger(\r\n      event = new $.Event(Event.INVALID),\r\n      {\r\n        fileCount: files.length,\r\n        invalidCount: files.length - safeFiles.length,\r\n        errorList: errorList,\r\n        errorCount: errorCount,\r\n        dropped: dropped\r\n      }\r\n    )\r\n    if (event.isDefaultPrevented()) return -1// it will reset input\r\n    /// ///////\r\n\r\n    return safeFiles// return safeFiles\r\n  }\r\n\r\n  _getExtRegex (ext) {\r\n    if (!ext) return null\r\n    if (Array.isArray(ext)) ext = ext.join('|')\r\n    if (ext.length === 0) return null\r\n    return new RegExp('\\\\.(?:' + ext + ')$', 'i')\r\n  }\r\n\r\n  _getMimeRegex (mime) {\r\n    if (!mime) return null\r\n    if (Array.isArray(mime)) mime = mime.join('|')\r\n    if (mime.length === 0) return null\r\n    return new RegExp('^(?:' + mime.replace(/\\//g, '\\\\/') + ')$', 'i')\r\n  }\r\n\r\n  static _jQueryInterface (config, value) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      // if (!data && _config.toggle && /show|hide/.test(config)) {\r\n      //  _config.toggle = false\r\n      // }\r\n\r\n      if (!data) {\r\n        data = new FileInput(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config](value)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * jQuery\r\n * ------------------------------------------------------------------------\r\n*/\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = FileInput._jQueryInterface\r\n  $.fn[NAME].Constructor = FileInput\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return FileInput._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default FileInput\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): wysiwyg.js\r\n   Wrapper for Bootstrap wyswiwyg plugin\r\n*/\r\n\r\nimport $ from 'jquery'\r\nimport bootstrap from 'bootstrap'\r\n\r\n/**\r\n * ------------------------------------------------------------------------\r\n * Constants\r\n * ------------------------------------------------------------------------\r\n */\r\n\r\nconst NAME = 'aceWysiwyg'\r\nconst VERSION = '2.1.0'\r\nconst DATA_KEY = 'ace.wysiwyg'\r\n\r\nconst DefaultType = {\r\n  wysiwyg: 'object',\r\n  colors: 'array',\r\n  // speech: 'boolean',\r\n  toolbar: 'array',\r\n  toolbarPlacement: '(function|null)',\r\n  toolbarStyle: '(string|number)'\r\n}\r\n\r\nconst Default = {\r\n  wysiwyg: {},\r\n  // speech: true,\r\n  toolbarPlacement: null,\r\n  toolbarStyle: '',\r\n\r\n  colors: ['#ac725e', '#d06b64', '#f83a22', '#fa573c', '#ff7537', '#ffad46',\r\n    '#42d692', '#16a765', '#7bd148', '#b3dc6c', '#fbe983', '#fad165',\r\n    '#92e1c0', '#9fe1e7', '#9fc6e7', '#4986e7', '#9a9cff', '#b99aff',\r\n    '#c2c2c2', '#cabdbf', '#cca6ac', '#f691b2', '#cd74e6', '#a47ae2',\r\n    '#444444'],\r\n  toolbar: ['font', null, 'fontSize', null, 'bold', 'italic', 'strikethrough', 'underline', null, 'insertunorderedlist', 'insertorderedlist',\r\n    'outdent', 'indent', null, 'justifyleft', 'justifycenter', 'justifyright', 'justifyfull', null, 'createLink', 'unlink', null,\r\n    'insertImage', null, 'foreColor', null, 'undo', 'redo', null, 'viewSource']\r\n}\r\n\r\nclass Wysiwyg {\r\n  constructor (element, config) {\r\n    this._element\t= element\r\n    this._config = this._getConfig(config)\r\n\r\n    this.initEditor()\r\n  }\r\n\r\n  static get VERSION () {\r\n    return VERSION\r\n  }\r\n\r\n  static get DefaultType () {\r\n    return DefaultType\r\n  }\r\n\r\n  static get Default () {\r\n    return Default\r\n  }\r\n\r\n  initEditor () {\r\n    var toolbarHtml = this._createToolbarHtml()\r\n    var toolbar\r\n    // if we have a function to decide where to put the toolbar, then call that\r\n    if (this._config.toolbarPlacement) toolbar = this._config.toolbarPlacement.call(this._element, toolbarHtml)\r\n    else toolbar = $(this._element).before(toolbarHtml).prev()// otherwise put it just before our DIV\r\n\r\n    if (this._config.toolbarStyle) toolbar.addClass('bsw-toolbar-style-' + this._config.toolbarStyle)\r\n\r\n    // enable tooltips\r\n    if ($.fn.tooltip) toolbar.find('a[title]').tooltip({ animation: false, container: 'body' })\r\n\r\n    toolbar.find('.dropdown-menu input[type=text]').on('click', function () { return false })\r\n      .on('change', function () { $(this).closest('.dropdown-menu').siblings('.dropdown-toggle').dropdown('toggle') })\r\n      .on('keydown', function (e) {\r\n        if (e.which === 27) {\r\n          this.value = ''\r\n          $(this).change()\r\n        } else if (e.which === 13) {\r\n          e.preventDefault()\r\n          e.stopPropagation()\r\n          $(this).change()\r\n        }\r\n      })\r\n\r\n    toolbar.find('input[type=file]').prev().on('click', function (e) {\r\n      $(this).next().click()\r\n    })\r\n\r\n    var self = $(this._element)\r\n    // view source\r\n    var viewSource = false\r\n    toolbar.find('a[data-toggle=source]').on('click', function (e) {\r\n      e.preventDefault()\r\n\r\n      if (!viewSource) {\r\n        $('<textarea />')\r\n          .css({ width: self.outerWidth(), height: self.outerHeight() })\r\n          .val(self.html())\r\n          .insertAfter(self)\r\n        self.addClass('d-none')\r\n\r\n        $(this).addClass('active')\r\n      } else {\r\n        var textarea = self.next()\r\n        self.html(textarea.val()).removeClass('d-none')\r\n        textarea.remove()\r\n\r\n        $(this).removeClass('active')\r\n      }\r\n\r\n      viewSource = !viewSource\r\n    })\r\n\r\n    // initiate wysiwyg plugin\r\n    var $options = $.extend({}, { activeToolbarClass: 'active', toolbarSelector: toolbar }, this._config.wysiwyg || {})\r\n    $(this._element).wysiwyg($options)\r\n\r\n    this._handleImages()\r\n  }\r\n\r\n  _createToolbarHtml () {\r\n    var _buttonDefaults =\t{\r\n      font: {\r\n        values: ['Arial', 'Courier', 'Comic Sans MS', 'Helvetica', 'Open Sans', 'Tahoma', 'Verdana'],\r\n        icon: 'fa fa-font text-secondary-m1',\r\n        title: 'Font'\r\n      },\r\n      fontSize: {\r\n        values: { 5: 'Huge', 3: 'Normal', 1: 'Small' },\r\n        icon: 'fa fa-text-height text-secondary-m1',\r\n        title: 'Font Size'\r\n      },\r\n      bold: {\r\n        icon: 'fa fa-bold text-secondary-m1',\r\n        title: 'Bold (Ctrl/Cmd+B)'\r\n      },\r\n      italic: {\r\n        icon: 'fa fa-italic text-secondary-m1',\r\n        title: 'Italic (Ctrl/Cmd+I)'\r\n      },\r\n      strikethrough: {\r\n        icon: 'fa fa-strikethrough text-secondary-m1',\r\n        title: 'Strikethrough'\r\n      },\r\n      underline: {\r\n        icon: 'fa fa-underline text-secondary-m1',\r\n        title: 'Underline'\r\n      },\r\n      insertunorderedlist: {\r\n        icon: 'fa fa-list-ul text-secondary-m1',\r\n        title: 'Bullet list'\r\n      },\r\n      insertorderedlist: {\r\n        icon: 'fa fa-list-ol text-secondary-m1',\r\n        title: 'Number list'\r\n      },\r\n      outdent: {\r\n        icon: 'fa fa-outdent text-secondary-m1',\r\n        title: 'Reduce indent (Shift+Tab)'\r\n      },\r\n      indent: {\r\n        icon: 'fa fa-indent text-secondary-m1',\r\n        title: 'Indent (Tab)'\r\n      },\r\n      justifyleft: {\r\n        icon: 'fa fa-align-left text-secondary-m1',\r\n        title: 'Align Left (Ctrl/Cmd+L)'\r\n      },\r\n      justifycenter: {\r\n        icon: 'fa fa-align-center text-secondary-m1',\r\n        title: 'Center (Ctrl/Cmd+E)'\r\n      },\r\n      justifyright: {\r\n        icon: 'fa fa-align-right text-secondary-m1',\r\n        title: 'Align Right (Ctrl/Cmd+R)'\r\n      },\r\n      justifyfull: {\r\n        icon: 'fa fa-align-justify text-secondary-m1',\r\n        title: 'Justify (Ctrl/Cmd+J)'\r\n      },\r\n      createLink: {\r\n        icon: 'fa fa-link text-secondary-m1',\r\n        title: 'Hyperlink',\r\n        button_text: 'Add',\r\n        placeholder: 'URL',\r\n        button_class: 'btn-primary'\r\n      },\r\n      unlink: {\r\n        icon: 'fa fa-unlink text-secondary-m1',\r\n        title: 'Remove Hyperlink'\r\n      },\r\n      insertImage: {\r\n        icon: 'fa fa-image text-secondary-m1',\r\n        title: 'Insert picture',\r\n        button_text: '<i class=\"fa fa-file mr-1\"></i> Choose an Image &hellip;',\r\n        placeholder: 'Remote Image URL',\r\n        button_insert: 'Insert',\r\n        button_class: 'btn-success',\r\n        button_insert_class: 'btn-primary',\r\n        choose_file: true // show the choose file button?\r\n      },\r\n      foreColor: {\r\n        icon: 'fas fa-eye-dropper text-pink-m2',\r\n        values: this._config.colors,\r\n        title: 'Foreground Color'\r\n      },\r\n      backColor: {\r\n        icon: 'fas fa-fill-drip text-secondary-m1',\r\n        values: this._config.colors,\r\n        title: 'Background Color'\r\n      },\r\n      undo: {\r\n        icon: 'fa fa-undo text-secondary-m1',\r\n        title: 'Undo (Ctrl/Cmd+Z)'\r\n      },\r\n      redo: {\r\n        icon: 'fa fa-redo text-secondary-m1',\r\n        title: 'Redo (Ctrl/Cmd+Y)'\r\n      },\r\n      viewSource: {\r\n        icon: 'fa fa-code text-secondary-m1',\r\n        title: 'View Source'\r\n      }\r\n    }\r\n\r\n    const toolbarButtons = this._config.toolbar\r\n    let toolbarHtml = ' <div class=\"bootstrap-wysiwyg-toolbar btn-toolbar text-center\"> <div class=\"btn-group\"> '\r\n\r\n    for (var tb in toolbarButtons) {\r\n      if (Object.prototype.hasOwnProperty.call(toolbarButtons, tb)) {\r\n        var button = toolbarButtons[tb]\r\n        if (button === null) {\r\n          toolbarHtml += ' </div> <div class=\"btn-group\"> '\r\n          continue\r\n        }\r\n\r\n        if (typeof button === 'string' && button in _buttonDefaults) {\r\n          button = _buttonDefaults[button]\r\n          button.name = toolbarButtons[tb]\r\n        } else if (typeof button === 'object' && button.name in _buttonDefaults) {\r\n          button = $.extend(_buttonDefaults[button.name], button)\r\n        } else continue\r\n\r\n        var className = 'className' in button ? button.className : 'my-2px btn-sm btn-outline-secondary btn-h-outline-primary btn-a-light-primary'\r\n        switch (button.name) {\r\n          case 'font':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i><i class=\"fa fa-angle-down ml-1 text-secondary-m2\"></i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu\">'\r\n            for (var font in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, font)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item\"><a data-edit=\"fontName ${button.values[font]}\" style=\"font-family:'${button.values[font]}'\">${button.values[font]}</a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div>'\r\n            break\r\n\r\n          case 'fontSize':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i>&nbsp;<i class=\"fa fa-angle-down ml-1 text-secondary-m2\"></i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu\"> '\r\n            for (var size in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, size)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item\"><a data-edit=\"fontSize ${size}\"><font size=\"${size}\">${button.values[size]}</font></a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div> '\r\n            break\r\n\r\n          case 'createLink':\r\n            toolbarHtml += ` <div class=\"btn-group\"> <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ` <div class=\"dropdown-menu py-1 px-3 brc-primary-tp2 border-2\" style=\"min-width: 300px;\">\r\n\t\t\t\t\t\t <div class=\"input-group my-3\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"${button.placeholder}\" type=\"text\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_class}\" type=\"button\">${button.button_text}</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t </div>\r\n\t\t\t\t\t</div> </div>`\r\n            break\r\n\r\n          case 'insertImage':\r\n            toolbarHtml += ` <div class=\"btn-group\"> <a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu p-3 brc-primary-tp2 border-2\" style=\"min-width: 300px;\">'\r\n            if (button.choose_file && 'FileReader' in window) {\r\n              toolbarHtml +=\r\n              `<div class=\"text-muted\">Drag &amp; drop images into editor or</div>\r\n\t\t\t\t\t\t   <label class=\"text-center d-block mt-2 mb-0\">\r\n\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_class} wysiwyg-choose-file\" type=\"button\">${button.button_text}</button>\r\n\t\t\t\t\t\t\t<input type=\"file\" class=\"file-input-invisible\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t   </label><hr /> `\r\n            }\r\n\r\n            toolbarHtml += `<div class=\"input-group my-3\">\r\n\t\t\t\t\t\t\t<input class=\"form-control\" placeholder=\"${button.placeholder}\" type=\"text\" data-edit=\"${button.name}\" />\r\n\t\t\t\t\t\t\t<div class=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button class=\"btn btn-sm ${button.button_insert_class}\" type=\"button\">${button.button_insert}</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t </div>`\r\n            toolbarHtml += ' </div> </div>'\r\n\r\n            break\r\n\r\n          case 'foreColor':\r\n          case 'backColor':\r\n            toolbarHtml += `<div class=\"mr-1px\"><a class=\"btn btn-sm ${className} dropdown-toggle\" data-toggle=\"dropdown\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            toolbarHtml += ' <div class=\"dropdown-menu p-1 brc-primary-tp2 border-1\" style=\"min-width:auto; width:128px;\">'\r\n            for (var color in button.values) {\r\n              if (Object.prototype.hasOwnProperty.call(button.values, color)) {\r\n                toolbarHtml += ` <div class=\"dropdown-item p-0 d-inline-block w-auto\"><a class=\"p-0\" data-edit=\"${button.name} ${button.values[color]}\" style=\"cursor:pointer;width:1.25rem;height:1.25rem;background-color:${button.values[color]};\"></a></div> `\r\n              }\r\n            }\r\n            toolbarHtml += ' </div></div>'\r\n            break\r\n\r\n          case 'viewSource':\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className}\" data-toggle=\"source\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            break\r\n          default:\r\n            toolbarHtml += ` <a class=\"btn btn-sm ${className}\" data-edit=\"${button.name}\" title=\"${button.title}\"><i class=\"${button.icon}\">${button.iconText || ''}</i></a> `\r\n            break\r\n        }\r\n      }\r\n    }\r\n    toolbarHtml += ' </div> '// for .btn-group\r\n\r\n    // var speech_input;\r\n    // if (this._config.speech && 'onwebkitspeechchange' in (speech_input = document.createElement('input'))) {\r\n    // toolbarHtml += ' <input class=\"wysiwyg-speech-input\" type=\"text\" data-edit=\"inserttext\" x-webkit-speech />';\r\n    // }\r\n    // speech_input = null;\r\n    /// /////////\r\n    toolbarHtml += ' </div> '// for .btn-toolbar\r\n\r\n    return toolbarHtml\r\n  }\r\n\r\n  _handleImages () {\r\n    // option for resizing an image\r\n    var currentImg = null\r\n    $(this._element).on('click', 'img', function (ev) {\r\n      if (currentImg) $(currentImg).popover('dispose')\r\n\r\n      currentImg = this\r\n      if (!$(currentImg).data('original-width')) $(currentImg).data('original-width', currentImg.width)\r\n\r\n      $(currentImg).popover({\r\n        container: 'body',\r\n        html: true,\r\n        placement: function (popover) {\r\n          var offset = currentImg.getBoundingClientRect()\r\n          var scrollTop = document.scrollTop || document.documentElement.scrollTop || document.body.scrollTop\r\n          $(popover).addClass('popover-wysiwyg-image shadow brc-secondary-m4').css({ 'margin-left': (offset.left + 4) + 'px', 'margin-top': (offset.top + scrollTop + 4) + 'px' })\r\n\r\n          return 'auto'\r\n        },\r\n        title: 'Image Size & Position',\r\n        trigger: 'manual',\r\n        content: function () {\r\n          return $(`<div class='btn-group'>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='0.25'>25%</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='0.50'>50%</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-default' data-action='resize' data-value='1'>100%</button>\r\n\t\t\t\t\t\t\t  </div>\r\n\t\t\t\t\t\t\t  <input type='number' class='form-control d-inline-block form-control-sm' data-action='resize' style='max-width: 96px;' placeholder='specify width' value='${currentImg.width}' />\r\n\t\t\t\t\t\t\t  <hr class='my-2' />\r\n\t\t\t\t\t\t\t  <div class='btn-group'>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='left'>left</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='right'>right</button>\r\n\t\t\t\t\t\t\t\t<button type='button' class='btn btn-xs btn-outline-secondary' data-action='align' data-value='none'>none</button>\r\n\t\t\t\t\t\t\t </div>\r\n\t\t\t\t\t\t\t <div class='btn-group float-right'>\r\n\t\t\t\t\t\t\t\t<button type='button' tooltip='Remove image' class='btn btn-sm btn-outline-warning btn-h-outline-danger btn-a-light-danger btn-bold radius-round' data-action='remove'><i class='fa fa-trash text-red'></i></button>\r\n\t\t\t\t\t\t\t </div>`)\r\n        }\r\n      }).popover('show')\r\n\r\n      $(document).on('click.popover-wysiwyg-image', function (ev) {\r\n        if (ev.target === currentImg) return\r\n\r\n        if ($(ev.target).closest('.popover-wysiwyg-image').length > 0) {\r\n          return\r\n        }\r\n\r\n        if (currentImg) $(currentImg).popover('hide')\r\n\r\n        currentImg = null\r\n        $(document).off('click.popover-wysiwyg-image')\r\n      })\r\n    })\r\n\r\n    $(document).on('click', '.popover-wysiwyg-image button.btn', function () {\r\n      if (!currentImg) return\r\n      var action = $(this).data('action')\r\n      var value = $(this).data('value')\r\n\r\n      if (action === 'resize') {\r\n        var width = parseInt($(currentImg).data('original-width') * value)\r\n        $(currentImg).css({ width: width })\r\n        $('.popover-wysiwyg-image input[type=number]').val(width)\r\n      }\r\n      if (action === 'align') $(currentImg).attr('class', 'float-' + value)\r\n      else if (action === 'remove') {\r\n        $(currentImg).popover('dispose').remove()// fadeOut(200, function() { $(this).remove() });\r\n        currentImg = null\r\n      }\r\n    })\r\n\r\n    $(document).on('change', '.popover-wysiwyg-image input[type=number]', function () {\r\n      if (currentImg) $(currentImg).css({ width: $(this).val() + 'px' })\r\n    })\r\n    /// //////////////\r\n  }\r\n\r\n  _getConfig (config) {\r\n    config = {\r\n      ...Default,\r\n      ...typeof config === 'object' && config ? config : {}\r\n    }\r\n\r\n    if (typeof bootstrap !== 'undefined') {\r\n      bootstrap.Util.typeCheckConfig(\r\n        NAME,\r\n        config,\r\n        this.constructor.DefaultType\r\n      )\r\n    }\r\n\r\n    return config\r\n  }\r\n\r\n  // Static methods\r\n  static _jQueryInterface (config) {\r\n    return this.each(function () {\r\n      const $this = $(this)\r\n      let data = $this.data(DATA_KEY)\r\n      const _config = {\r\n        ...Default,\r\n        ...$this.data(),\r\n        ...typeof config === 'object' && config ? config : {}\r\n      }\r\n\r\n      if (!data) {\r\n        data = new Wysiwyg(this, _config)\r\n        $this.data(DATA_KEY, data)\r\n      }\r\n\r\n      if (typeof config === 'string') {\r\n        if (typeof data[config] === 'undefined') {\r\n          throw new TypeError(`No method named \"${config}\"`)\r\n        }\r\n        data[config]()\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nif (typeof $ !== 'undefined') {\r\n  const JQUERY_NO_CONFLICT = $.fn[NAME]\r\n  $.fn[NAME] = Wysiwyg._jQueryInterface\r\n  $.fn[NAME].Constructor = Wysiwyg\r\n  $.fn[NAME].noConflict = () => {\r\n    $.fn[NAME] = JQUERY_NO_CONFLICT\r\n    return Wysiwyg._jQueryInterface\r\n  }\r\n}\r\n\r\nexport default Wysiwyg\r\n","/**\r\n * --------------------------------------------------------------------------\r\n * Ace (v2.1.0): index.umd.js\r\n * --------------------------------------------------------------------------\r\n */\r\n\r\nimport Util from './src/util'\r\nimport Basic from './src/general'\r\nimport Scrollbar from './src/scrollbar'\r\nimport Sidebar from './src/sidebar'\r\nimport Aside from './src/aside'\r\nimport Toaster from './src/toaster'\r\nimport Widget from './src/widget'\r\nimport FileInput from './src/fileinput'\r\nimport Wysiwyg from './src/wysiwyg'\r\n\r\nexport default {\r\n  Util,\r\n  Basic,\r\n  Scrollbar,\r\n  Sidebar,\r\n  Aside,\r\n  Toaster,\r\n  Widget,\r\n  FileInput,\r\n  Wysiwyg\r\n}\r\n"],"names":["Util","window","matchMedia","matches","recalc","_scrollbarInfo","scrollDiv","document","createElement","style","overflow","position","width","height","scrollbar","body","appendChild","getBoundingClientRect","clientWidth","documentElement","setProperty","thinWidth","CSS","thin","supports","overlay","autohide","removeChild","_supportsTransitionStart","Basic","_handleAlerts","_handleDropdowns","_handleNavbar","_handleTabScroll","_handleScrollTop","_handleSticky","_handleOther","$","on","e","preventDefault","wrap","parent","collapse","one","remove","target","closest","removeClass","stopImmediatePropagation","hideBodyScrollbar","find","focus","classList","contains","scrollbarInfo","getScrollbarInfo","add","hasClass","addClass","css","_adjustDropdown","isRTL","prop","rect","left","parseInt","sw","scrollWidth","right","ev","originalEvent","propertyName","call","pos","getComputedStyle","_firefox","_scrollIntoView","smooth","li","parentNode","nav","navClientWidth","_scrollLeft","offsetLeft","isReducedMotion","scrollTo","top","behavior","scrollLeft","setTimeout","each","active","querySelector","allowedDir","attr","curPane","initialTransform","touches","changedTouches","swipeDir","x1","pageX","y1","pageY","t1","Date","now","curDir","paneWidth","siblingPane","_dismiss","off","transform","_reset","sibling","transitionDuration","_transitionEnd","removeEventListener","addEventListener","newX","newY","diffY","Math","abs","diffX","moveX","newDir","targetPane","getAttribute","nextElementSibling","previousElementSibling","moveXabs","x2","t2","diff","id1","id","id2","newActive","get","_scrollBtn","offsetParent","showScrollbtn","hideScrollBtn","scrollToTop","smoothScroll","scroll","_modernBrowser","_scrollBtnObserve","observer","IntersectionObserver","entry","isOut","intersectionRatio","boundingClientRect","y","threshold","delay","observe","stickyElements","querySelectorAll","length","isSticky","stickyNav","parentElement","evt","CustomEvent","detail","dispatchEvent","forEach","stickyEl","observedChild","tagName","insertBefore","firstChild","initialCheck","value","_HandleBasics","NAME","VERSION","DATA_KEY","EVENT_KEY","DATA_API_KEY","Event","LOAD_DATA_API","Selector","ACE_SCROLL","DefaultType","type","lock","ignore","plugin","options","Default","Scrollbar","element","config","_element","$element","_config","_getConfig","enableScrollbars","update","_addNativeScrolls","_preferNativeScrolls","_addPluginScrolls","_height","isNaN","maxHeight","_lock","_smooth","wrapper","color","transition","_hasScrollbarPlugin","bootstrap","typeCheckConfig","constructor","$this","data","JSON","parse","TypeError","scrollbars","slice","i","$scrollbars","_jQueryInterface","JQUERY_NO_CONFLICT","fn","Constructor","noConflict","SHOW","HIDE","COLLAPSE","EXPAND","SHOWN","HIDDEN","COLLAPSED","EXPANDED","CLICK_DATA_API","SIDEBAR","DATA_TOGGLE","DATA_TOGGLE_MOBILE","swipe","dismiss","backdrop","gotoactive","subscroll","pullup","ClassName","DESKTOP_HIDE","MOBILE_SHOW","TOGGLING","INNER_HOVER","BACKDROP","HORIZONTAL","Sidebar","_hasTransitionEvent","_hasTransitionEvent2","_isTransitioning","_isBeingDismissed","_sidebar","_inner","_scroller","_pullupEnabled","_triggerArray","_triggerArrayMobile","_horizontal","_desktopCollapsedClass","_collapsed","_handleTriggerEvents","enableSubmenuToggle","enableSubmenuPullup","scrollToActive","_addTransitionEvent","This","toggle","toggleMobile","btn","expand","show","hide","trigger","isDefaultPrevented","_updateTriggerBtns","_toggleCompleted","_resetPullUp","_addTransitionEvent2","enableSwipeHide","_toggleMobileCompleted","offsetHeight","btns","expanded","len","setAttribute","shown","counter","activeElement","blur","aceScroll","touchMoveCallback","_scrollIntoViewOptions","navItem","subMenu","eq","subPos","not","toggleClass","scrollIntoView","block","err","scrollHeight","clientHeight","overscrollBehavior","submenu","navtxt","wh","bottom","navtxtHeight","diff2","scrollTop","sidebars","$sidebar","placement","margin","fade","blocking","container","belowNav","Aside","_init","_setPlacement","extraClass","split","placementMap","t","tc","tr","tl","b","bc","br","bl","r","rc","l","lc","c","center","className","showEvent","modal","hideEvent","visibleModalSelector","dismissEventId","display","innerWidth","backdropBg","paddingRight","eid","_HandleAside","CLEAR","ADD","ADDED","close","autoremove","template","alert","Toaster","_lastToastId","_toast","$newToast","role","$toastHeader","title","titleClass","append","closeClass","bodyClass","image","icon","headerClass","_addToContainer","$existingToast","$toast","isNewElement","addEvent","appendTo","indexOf","prepend","dummy","toast","_toastOptions","sticky","animation","addedEvent","hideAll","selector","_hideBySelector","clearEvent","is","aceToaster","addEl","CLOSE","CLOSED","RESTORE","RESTORED","RELOAD","DATA_ACTION","Widget","$box","startLoading","loadingHtml","_closeComplete","next","$body","action","match","eventName","_toggleIcon","HTMLElement","eventCompleteName","toggleFast","button","animate","$expand","box","placeholder","nextSibling","removeAttribute","rect1","event","currentTarget","$actionBtn","$action","aceWidget","INVALID","RESET","PREVIEW_FAILED","persistent","btnChooseClass","btnChangeClass","btnChooseText","btnChangeText","placeholderClass","placeholderText","placeholderIcon","iconClass","reset","resetText","resetIcon","droppable","thumbnail","previewImage","allowExt","denyExt","allowMime","denyMime","maxSize","previewSize","previewWidth","previewHeight","beforeChange","fileIcons","file","video","audio","archive","code","PreviewError","FILE_LOAD_FAILED","IMAGE_LOAD_FAILED","THUMBNAIL_FAILED","FileInput","settings","extend","fileList","selectMethod","_hasMultiple","_hasFileList","_hasFileReader","_hasFile","disabled","canReset","aceInnerCall","_handleOnChange","parentLabel","$wrap","_applySettings","_isMulti","_isDropStyle","after","$container","tooltip","resetInput","stopLoading","_enableFileDrop","$files","innerCall","files","resetInputUI","filename","format","File","trim","name","Object","prototype","hasOwnProperty","path","index","lastIndexOf","substr","test","fileIcon","label","canPreview","when","_previewImage","fail","result","resetInputField","resetInputData","formEl","unwrap","removeData","removeAttr","newSettings","loader","empty","dropbox","stopPropagation","dt","dataTransfer","tmpFileList","tmpfiles","push","_processFiles","fileArray","f","concat","showFileList","triggerHandler","$icon","deferred","Deferred","getImage","src","$file","img","imgLoaded","imgFailed","size","min","svg","thumb","_getThumbnail","reject","w","h","max","background","resolve","reader","FileReader","onload","onerror","readAsDataURL","promise","imgWidth","imgHeight","dataURL","canvas","context","getContext","imageSmoothingQuality","drawImage","toDataURL","dropped","ret","_checkFileList","Array","FileList","_getExtRegex","_getMimeRegex","safeFiles","errorList","ext","mime","errorCount","fileCount","invalidCount","isArray","join","RegExp","replace","wysiwyg","colors","toolbar","toolbarPlacement","toolbarStyle","Wysiwyg","initEditor","toolbarHtml","_createToolbarHtml","before","prev","siblings","dropdown","which","change","click","self","viewSource","outerWidth","outerHeight","val","html","insertAfter","textarea","$options","activeToolbarClass","toolbarSelector","_handleImages","_buttonDefaults","font","values","fontSize","bold","italic","strikethrough","underline","insertunorderedlist","insertorderedlist","outdent","indent","justifyleft","justifycenter","justifyright","justifyfull","createLink","button_text","button_class","unlink","insertImage","button_insert","button_insert_class","choose_file","foreColor","backColor","undo","redo","toolbarButtons","tb","iconText","currentImg","popover","offset","content"],"mappings":"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"}